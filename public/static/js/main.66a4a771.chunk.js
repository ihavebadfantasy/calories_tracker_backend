(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,r){"use strict";var a=r(29);t.a=function(e,t){localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t),a.a.$instance.setHeader("Authorization",e)}},107:function(e,t,r){"use strict";r.r(t),r.d(t,"fetchCalculatedActivities",(function(){return l})),r.d(t,"createActivity",(function(){return d})),r.d(t,"updateActivity",(function(){return p})),r.d(t,"deleteActivity",(function(){return h}));var a=r(9),n=r.n(a),s=r(12),i=r(61),c=r(29),o=r(28),u=r(98),l=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.$instance.get(o.g);case 2:return(r=e.sent).status||t({type:i.FETCH_CALCULATED_ACTIVITIES,payload:r.data.activities}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.post(o.a,e);case 2:return(a=t.sent).status||r({type:i.CREATE_ACTIVITY,payload:a.data.dailyActivity}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var r=Object(s.a)(n.a.mark((function r(a){var s;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.$instance.put(Object(u.a)(o.n,{id:t}),e);case 2:return(s=r.sent).status||a({type:i.UPDATE_CURRENT_ACTIVITY,payload:s.data.dailyActivity}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.delete(Object(u.a)(o.e,{id:e}));case 2:return(a=t.sent).status||r({type:i.DELETE_ACTIVITY}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},114:function(e,t,r){"use strict";r.r(t),r.d(t,"fetchDays",(function(){return d})),r.d(t,"createToday",(function(){return p})),r.d(t,"updateToday",(function(){return h})),r.d(t,"findAndSetToday",(function(){return j}));var a=r(9),n=r.n(a),s=r(12),i=r(81),c=r(29),o=r(28),u=r(251),l=r(98),d=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.$instance.get(o.h);case 2:return(r=e.sent).status||(t(j(r.data.days)),t({type:i.FETCH_DAYS,payload:r.data.days})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.$instance.post(o.d);case 2:if((r=e.sent).status){e.next=6;break}return e.next=6,t(d());case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t){return function(){var r=Object(s.a)(n.a.mark((function r(a){var s;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.$instance.put(Object(l.a)(o.o,{id:t}),e);case 2:return(s=r.sent).status||a({type:i.UPDATE_TODAY,payload:s.data.day}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},j=function(e){var t=u.DateTime.now().toString();t=t.slice(0,t.indexOf("T"));var r=e.filter((function(e){return e.createdAt.slice(0,e.createdAt.indexOf("T"))===t})),a=null;return r.length>0&&(a=r[0]),{type:i.SET_TODAY,payload:a}}},153:function(e,t,r){"use strict";r.r(t),r.d(t,"LOAD_INITIAL_APP_DATA",(function(){return a}));var a="LOAD_INITIAL_APP_DATA"},154:function(e,t,r){"use strict";r.r(t),r.d(t,"createMeal",(function(){return l})),r.d(t,"updateMeal",(function(){return d})),r.d(t,"deleteMeal",(function(){return p}));var a=r(9),n=r.n(a),s=r(12),i=r(77),c=r(29),o=r(28),u=r(98),l=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.post(o.b,e);case 2:return(a=t.sent).status||r({type:i.CREATE_MEAL,payload:a.data.meal}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var r=Object(s.a)(n.a.mark((function r(a){var s;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.$instance.put(Object(u.a)(o.p,{id:t}),e);case 2:return(s=r.sent).status||a({type:i.UPDATE_CURRENT_MEAL,payload:s.data.meal}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.delete(Object(u.a)(o.f,{id:e}));case 2:return(a=t.sent).status||r({type:i.DELETE_MEAL}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},207:function(e,t,r){"use strict";r.r(t),r.d(t,"loadInitialAppData",(function(){return u}));var a=r(9),n=r.n(a),s=r(12),i=r(153),c=r(47),o=r(106),u=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(Object(c.setLanguage)(localStorage.getItem("i18nextLng"))),r=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken"),!r||!a){e.next=9;break}return Object(o.a)(r,a),t(Object(c.setTokens)({accessToken:r,refreshToken:a})),t(Object(c.setIsAuth)(!0)),e.next=9,t(Object(c.fetchUserProfile)());case 9:t({type:i.LOAD_INITIAL_APP_DATA});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},208:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r.n(a),s=r(260),i=r(12),c=r(261),o=r(105),u=r(262),l=function(){var e=Object(i.a)(n.a.mark((function e(){var t,a,i,l,d,p,h,j;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=[],i=r(332),l=i.keys(),d=Object(s.a)(l);try{for(d.s();!(p=d.n()).done;)(h=p.value).includes("reducer.js")&&function(){var e=h.slice(h.indexOf("./")+2);e=e.slice(0,e.indexOf("/"));var n=r(333)("./"+e+"/reducer.js").then((function(r){t[e]=r.reducer}));a.push(n)}()}catch(n){d.e(n)}finally{d.f()}return e.next=8,Promise.all(a);case 8:return j=Object(o.combineReducers)(t),e.abrupt("return",Object(o.createStore)(j,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(c.a))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.default=l},209:function(e,t,r){"use strict";r.r(t),t.default={currentActivity:null,calculatedActivities:[]}},210:function(e,t,r){"use strict";r.r(t),t.default={isInitialDataLoaded:!1}},211:function(e,t,r){"use strict";r.r(t),t.default={days:[],today:null}},212:function(e,t,r){"use strict";r.r(t),t.default={currentMeal:null}},213:function(e,t,r){"use strict";r.r(t),t.default={tokens:{accessToken:null,refreshToken:null},isAuth:!1,profile:null,language:null}},243:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return i}));var a=r(7),n=r(209),s=r(61),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SET_CURRENT_ACTIVITY:case s.UPDATE_CURRENT_ACTIVITY:case s.CREATE_ACTIVITY:return Object(a.a)(Object(a.a)({},e),{},{currentActivity:t.payload});case s.DELETE_ACTIVITY:return Object(a.a)(Object(a.a)({},e),{},{currentActivity:null});case s.FETCH_CALCULATED_ACTIVITIES:return Object(a.a)(Object(a.a)({},e),{},{calculatedActivities:t.payload});default:return e}}},244:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return i}));var a=r(7),n=r(210),s=r(153),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.LOAD_INITIAL_APP_DATA:return Object(a.a)(Object(a.a)({},e),{},{isInitialDataLoaded:!0});default:return e}}},245:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return i}));var a=r(7),n=r(211),s=r(81),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.FETCH_DAYS:return Object(a.a)(Object(a.a)({},e),{},{days:t.payload});case s.SET_TODAY:case s.UPDATE_TODAY:return Object(a.a)(Object(a.a)({},e),{},{today:t.payload});default:return e}}},246:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return i}));var a=r(7),n=r(212),s=r(77),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SET_CURRENT_MEAL:case s.UPDATE_CURRENT_MEAL:case s.CREATE_MEAL:return Object(a.a)(Object(a.a)({},e),{},{currentMeal:t.payload});case s.DELETE_MEAL:return Object(a.a)(Object(a.a)({},e),{},{currentMeal:null});default:return e}}},247:function(e,t,r){"use strict";r.r(t),r.d(t,"reducer",(function(){return i}));var a=r(7),n=r(38),s=r(213),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.REGISTER_USER:case n.LOGIN_USER:return Object(a.a)(Object(a.a)({},e),{},{tokens:t.payload,isAuth:!0});case n.GET_PROFILE:case n.CREATE_PROFILE:return Object(a.a)(Object(a.a)({},e),{},{profile:t.payload});case n.SET_LANGUAGE:return Object(a.a)(Object(a.a)({},e),{},{language:t.payload});case n.SET_IS_AUTH:return Object(a.a)(Object(a.a)({},e),{},{isAuth:t.payload});case n.SET_TOKENS:return Object(a.a)(Object(a.a)({},e),{},{tokens:t.payload});default:return e}}},264:function(e){e.exports=JSON.parse('{"homepage":{"welcome":"Hey there, dude!"},"notFoundPage":{"notFound":"Oops! Page is not found..."}}')},265:function(e){e.exports=JSON.parse('{"homepage":{"welcome":"\u041f\u0440\u0438\u0432\u0435\u0442\u0438\u043a\u0438!"},"notFoundPage":{"notFound":"\u041e\u0439! \u0410 \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0438 \u0442\u043e \u043d\u0435\u0442..."},"loginPage":{"form":{"inputs":{"email":{"placeholder":"mYeMaIlIsJuStAwEsOmE@mail.com","label":"\u041f\u043e\u0447\u0442\u0430"},"password":{"placeholder":"*****","label":"\u041f\u0430\u0440\u043e\u043b\u044c"}},"submitBtn":"\u0412\u043e\u0439\u0442\u0438"}}}')},28:function(e,t,r){"use strict";r.d(t,"j",(function(){return a})),r.d(t,"k",(function(){return n})),r.d(t,"m",(function(){return s})),r.d(t,"l",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"i",(function(){return o})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"o",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"p",(function(){return h})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return b})),r.d(t,"a",(function(){return f})),r.d(t,"n",(function(){return m})),r.d(t,"e",(function(){return O}));var a="/auth/login",n="/auth/logout",s="/auth/register",i="/auth/refresh",c="/users",o="/users",u="/days",l="/days/today",d="/days/:id",p="/meals",h="/meals/:id",j="/meals/:id",b="/activities",f="/daily-activities",m="/daily-activities/:id",O="/daily-activities/:id"},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var a=r(7),n=r(9),s=r.n(n),i=r(12),c=r(16),o=r(17),u=r(250),l=r.n(u),d={api:{urls:{baseUrl:"https://ihavebadfantasy-cracker.herokuapp.com/api"}},language:{default:"ru"},app:{numberMask:"999"}},p=r(28),h=r(106),j=function(){function e(){Object(c.a)(this,e),this.client=null,this.language=d.language.default,this.headers={},this.excludeRefreshUrls=[p.j,p.m]}return Object(o.a)(e,[{key:"setLanguage",value:function(e){this.language=e}},{key:"setHeader",value:function(t,r){return this.headers[t]=r,this.client=null,e.$instance}},{key:"removeHeader",value:function(t){return delete this.headers[t],this.client=null,e.$instance}},{key:"get",value:function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initClient(),e.prev=1,e.next=4,this.client.get(t,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response){e.next=12;break}return e.abrupt("return",this.errorHandler(e.t0.response,"get",t,r));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a,n,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,this.initClient(),e.prev=3,e.next=6,this.client.post(t,r,a);case 6:return n=e.sent,e.abrupt("return",n.data);case 10:if(e.prev=10,e.t0=e.catch(3),!e.t0.response){e.next=14;break}return e.abrupt("return",this.errorHandler(e.t0.response,"post",t,a));case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var r,a,n,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,this.initClient(),e.prev=3,e.next=6,this.client.put(t,r,a);case 6:return n=e.sent,e.abrupt("return",n.data);case 10:if(e.prev=10,e.t0=e.catch(3),!e.t0.response){e.next=14;break}return e.abrupt("return",this.errorHandler(e.t0.response,"put",t,a));case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(i.a)(s.a.mark((function e(t,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initClient(),e.prev=1,e.next=4,this.client.delete(t,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response){e.next=12;break}return e.abrupt("return",this.errorHandler(e.t0.response,"delete",t,r));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"errorHandler",value:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=401===e.t0?3:6;break;case 3:return e.next=5,this.handle401Error(t,r,a,n);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,a,n){return e.apply(this,arguments)}}()},{key:"handle401Error",value:function(){var e=Object(i.a)(s.a.mark((function e(t,r,a,n){var i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.excludeRefreshUrls.includes(a)){e.next=2;break}return e.abrupt("return",t);case 2:if(i=localStorage.getItem("refreshToken")){e.next=5;break}return e.abrupt("return",t);case 5:return this.excludeRefreshUrls.push(a),e.prev=6,e.next=9,this.post(p.l,{refreshToken:i});case 9:return c=e.sent,Object(h.a)(c.data.accessToken,c.data.refreshToken),e.next=13,this[r](a,n);case 13:return o=e.sent,this.excludeRefreshUrls.pop(),e.abrupt("return",o);case 18:return e.prev=18,e.t0=e.catch(6),this.excludeRefreshUrls.pop(),e.abrupt("return",e.t0.response);case 22:case"end":return e.stop()}}),e,this,[[6,18]])})));return function(t,r,a,n){return e.apply(this,arguments)}}()},{key:"initClient",value:function(){return this.client||(this.client=l.a.create({baseURL:d.api.urls.baseUrl,headers:this.headers})),this.client}},{key:"createFullConfig",value:function(e){var t={language:this.language};return e?(e.params=Object(a.a)(Object(a.a)({},e.params),t),e):{params:Object(a.a)({},t)}}}],[{key:"$instance",get:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();j.instance=null},291:function(e,t,r){},332:function(e,t,r){var a={"./activities/actions.js":107,"./activities/reducer.js":243,"./activities/state.js":209,"./activities/types.js":61,"./app/actions.js":207,"./app/reducer.js":244,"./app/state.js":210,"./app/types.js":153,"./days/actions.js":114,"./days/reducer.js":245,"./days/state.js":211,"./days/types.js":81,"./index.js":208,"./meals/actions.js":154,"./meals/reducer.js":246,"./meals/state.js":212,"./meals/types.js":77,"./user/actions.js":47,"./user/reducer.js":247,"./user/state.js":213,"./user/types.js":38};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id=332},333:function(e,t,r){var a={"./activities/reducer.js":243,"./app/reducer.js":244,"./days/reducer.js":245,"./meals/reducer.js":246,"./user/reducer.js":247};function n(e){return Promise.resolve().then((function(){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r(a[e])}))}n.keys=function(){return Object.keys(a)},n.id=333,e.exports=n},334:function(e,t,r){"use strict";r.r(t);var a=r(9),n=r.n(a),s=r(12),i=r(53),c=r.n(i),o=r(26),u=(r(290),r(291),r(0)),l=r.n(u),d=r(64),p=r(259),h=r(31),j=r(7),b=r(16),f=r(17),m=r(19),O=r(18),v=r(114),y=r(154),x=r(107),g="/",E="/not-found",w="/login",A="/register",k="/create-profile",N="/all-days",T="/profile",C=r(4),S=function(e){return{profile:e.user.profile}},_=function(e){var t=function(t){Object(m.a)(a,t);var r=Object(O.a)(a);function a(){return Object(b.a)(this,a),r.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(e,t,r){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.profile&&this.props.profile.isRegistrationComplete||this.props.history.push(k)}},{key:"render",value:function(){return Object(C.jsx)(e,Object(j.a)({},this.props))}}]),a}(l.a.Component);return Object(o.b)(S,null)(t)},I=function(e){return{auth:e.user.isAuth}},D=function(e){var t=function(t){Object(m.a)(a,t);var r=Object(O.a)(a);function a(){return Object(b.a)(this,a),r.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(e,t,r){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||this.props.history.push(w)}},{key:"render",value:function(){return Object(C.jsx)(e,Object(j.a)({},this.props))}}]),a}(l.a.Component);return Object(o.b)(I,null)(t)},M=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){var e=this.props.size||"small";return Object(C.jsx)("div",{className:"ui active inline loader ".concat(e)})}}]),r}(l.a.Component),U=r(47),F=[{text:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",to:g},{text:"\u0412\u0441\u0435 \u0434\u043d\u0438",to:N},{text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",to:T}],L=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"logoutUser",value:function(){}},{key:"renderNavMenu",value:function(){return F.map((function(e){return Object(C.jsx)(d.NavLink,{to:e.to,className:"item",activeClassName:"active",children:e.text},e.text)}))}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"ui stackable menu",children:[this.renderNavMenu(),Object(C.jsx)("div",{className:"right menu",children:Object(C.jsx)("a",{className:"ui item",onClick:this.props.logoutUser,children:"\u0412\u044b\u0439\u0442\u0438"})})]})}}]),r}(l.a.Component),R={logoutUser:U.logoutUser},P=Object(o.b)(null,R)(L),V=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return this.props.stats?Object(C.jsxs)("div",{className:"ui secondary pointing menu",children:[Object(C.jsxs)("span",{className:"item",children:["\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0432\u0435\u0441: ",Object(C.jsxs)("b",{className:"pl-5",children:[this.props.stats.averageWeight,"  \u043a\u0433"]})]}),Object(C.jsxs)("span",{className:"item",children:["\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043a\u043a\u0430\u043b/\u0434\u0435\u043d\u044c: ",Object(C.jsxs)("b",{className:"pl-5",children:[this.props.stats.averageCaloriesPerDay," \u043a\u043a\u0430\u043b"]})]}),Object(C.jsxs)("span",{className:"item",children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u0437.\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c/\u0434\u0435\u043d\u044c: ",Object(C.jsxs)("b",{className:"pl-5",children:[this.props.stats.averageActivityPerDay," \u043c\u0438\u043d\u0443\u0442"]})]})]}):null}}]),r}(l.a.Component),Y=Object(o.b)((function(e){return{stats:e.user.profile?e.user.profile.stats:null}}),{})(V),H=r(218),B=r(131),$=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={weightEditEnabled:!1,editableWeight:""},e.enableWeightEdit=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{weightEditEnabled:!0}))},e.onWeightInputChange=function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{editableWeight:t.target.value}))},e.onEditWeightSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.props.today){t.next=8;break}return t.next=4,e.props.createToday();case 4:if(!(a=t.sent).status){t.next=8;break}return Object(H.toast)({type:"error",title:"\u041f\u0435\u0447\u0430\u043b\u044c\u043a\u0430...",description:a.data.error.message,time:5e3}),t.abrupt("return");case 8:return t.next=10,e.props.updateToday({weight:e.state.editableWeight},e.props.today._id);case 10:t.sent.status||e.setState(Object(j.a)(Object(j.a)({},e.state),{},{weightEditEnabled:!1}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"render",value:function(){var e=this.props.today&&this.props.today.weight?this.props.today.weight:"?",t=this.props.today&&this.props.today.caloriesLeft?this.props.today.caloriesLeft:this.props.profile&&this.props.profile.caloriesPerDay?this.props.profile.caloriesPerDay:"-",r=this.props.today&&this.props.today.dailyActivity?this.props.today.dailyActivity:"0";return Object(C.jsxs)("div",{className:"ui secondary pointing menu",children:[Object(C.jsx)(H.SemanticToastContainer,{position:"top-right"}),Object(C.jsxs)("span",{className:"item",onClick:this.enableWeightEdit,children:["\u0412\u0435\u0441 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:",this.state.weightEditEnabled?Object(C.jsx)("form",{onSubmit:this.onEditWeightSubmit,children:Object(C.jsx)(B.a,{className:"d-inline-block ml-5",type:"tel",onChange:this.onWeightInputChange,value:this.state.editableWeight,placeholder:"55",decimalScale:1})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("b",{className:"pl-5",children:[e," \u043a\u0433"]}),Object(C.jsx)("i",{className:"icon edit pl-10 cursor-pointer"})]})]}),Object(C.jsxs)("span",{className:"item",children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043a\u043a\u0430\u043b \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",Object(C.jsxs)("b",{className:"pl-5",children:[t," \u043a\u043a\u0430\u043b"]})]}),Object(C.jsxs)("span",{className:"item",children:["\u0424\u0438\u0437. \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0433\u043e\u0434\u043d\u044f: ",Object(C.jsxs)("b",{className:"pl-5",children:[r," \u043c\u0438\u043d\u0443\u0442"]})]})]})}}]),r}(l.a.Component),G={updateToday:v.updateToday,createToday:v.createToday},J=Object(o.b)((function(e){return{today:e.days.today,profile:e.user.profile}}),G)($),W=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isOptionsVisible:!1},e.toggleOptions=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{isOptionsVisible:!e.state.isOptionsVisible}))},e}return Object(f.a)(r,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"ui teal buttons fixed-right",onClick:this.toggleOptions,children:[Object(C.jsx)("div",{className:"ui button",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(C.jsxs)("div",{className:"ui floating dropdown icon button ".concat(this.state.isOptionsVisible?"visible":""),children:[Object(C.jsx)("i",{className:"dropdown icon"}),Object(C.jsxs)("div",{className:"menu ".concat(this.state.isOptionsVisible?"transition visible":""),children:[Object(C.jsxs)("div",{className:"item",onClick:this.props.onAddMealClick,children:[Object(C.jsx)("i",{className:"utensils icon"}),"\u041f\u0440\u0438\u0435\u043c \u043f\u0438\u0449\u0438"]}),Object(C.jsxs)("div",{className:"item",onClick:this.props.onAddActivityClick,children:[Object(C.jsx)("i",{className:"hand rock icon"}),"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"]})]})]})]})}}]),r}(l.a.Component),Z=r(220),z=r.n(Z),K={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};z.a.setAppElement("#modal");var q=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"modal-box-wrapper",children:Object(C.jsx)(z.a,{isOpen:this.props.modalIsOpen,onRequestClose:this.props.closeModal,style:K,children:Object(C.jsx)("div",{className:"modal-box",children:this.props.children})})})}}]),r}(l.a.Component);c.a.render(Object(C.jsx)(q,{}),document.getElementById("modal"));var Q=q,X=r(60),ee=r(100),te=r.n(ee),re=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return Object(C.jsx)(X.b,{initialValues:this.props.initialValues,onSubmit:this.props.onSubmit,validate:this.props.validate,children:this.props.children})}}]),r}(l.a.Component),ae=function(e){var t={};return e.calories||(t.calories="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),t},ne=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={initialValues:{nutriment:e.props.meal&&e.props.meal.nutriment?e.props.meal.nutriment:"",calories:e.props.meal&&e.props.meal.calories?e.props.meal.calories:"",weight:e.props.meal&&e.props.meal.weight?e.props.meal.weight:""},serverErrors:{},generalError:""},e.handleFocus=function(t){var r=JSON.stringify(e.state);delete(r=JSON.parse(r)).serverErrors[t.target.name],e.setState(r)},e.onSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.setSubmitting,e.setState(Object(j.a)(Object(j.a)({},e.state),{},{serverErrors:{},generalError:""})),!e.props.meal){t.next=8;break}return t.next=5,e.props.updateMeal(r,e.props.meal._id);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,e.props.createMeal(r);case 10:t.t0=t.sent;case 11:if((i=t.t0).status){t.next=15;break}return e.props.closeModal(),t.abrupt("return");case 15:if(!i.data.errors||!i.data.errors.length){t.next=19;break}return i.data.errors.forEach((function(t){e.state.serverErrors[t.param]=t.msg})),s(!1),t.abrupt("return");case 19:e.setState(Object(j.a)(Object(j.a)({},e.state),{},{generalError:i.data.error.message})),s(!1);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"componentDidUpdate",value:function(e){this.props.meal!==e.meal&&this.setState(Object(j.a)(Object(j.a)({},this.state),{},{initialValues:{nutriment:this.props.meal&&this.props.meal.nutriment?this.props.meal.nutriment:"",calories:this.props.meal&&this.props.meal.calories?this.props.meal.calories:"",weight:this.props.meal&&this.props.meal.weight?this.props.meal.weight:""}}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(Q,{modalIsOpen:this.props.modalIsOpen,closeModal:this.props.closeModal,children:[Object(C.jsxs)("div",{className:"modal-box-header",children:[Object(C.jsx)("div",{className:"modal-box-header-content",children:"\u041f\u0440\u0438\u0435\u043c \u043f\u0438\u0449\u0438"}),Object(C.jsx)("i",{onClick:this.props.closeModal,className:"close icon modal-box-close-btn"})]}),Object(C.jsx)("div",{className:"modal-box-content",children:Object(C.jsx)("div",{className:"modal-box-content-inner",children:Object(C.jsx)(re,{initialValues:this.state.initialValues,onSubmit:this.onSubmit,validate:ae,children:function(t){var r=t.values,a=t.errors,n=t.touched,s=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return a=Object(j.a)(Object(j.a)({},a),e.state.serverErrors),Object(C.jsxs)("form",{onSubmit:c,noValidate:!0,children:[Object(C.jsxs)("div",{className:n.nutriment&&a.nutriment?"ui input w-100 error":"ui input w-100",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"nutriment",children:"\u0415\u0434\u0430"}),Object(C.jsx)("input",{type:"text",name:"nutriment",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.nutriment,placeholder:"\u041a\u043e\u0442\u043b\u0435\u0442\u043a\u0430",className:"d-block w-100",id:"nutriment"}),n.nutriment&&a.nutriment&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.nutriment})]}),Object(C.jsxs)("div",{className:n.weight&&a.weight?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"weight",children:"\u0412\u0435\u0441"}),Object(C.jsx)(X.a,{name:"weight",children:function(t){var a=t.field;return Object(C.jsx)(te.a,Object(j.a)(Object(j.a)({},a),{},{maskChar:null,mask:"999",type:"phone",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.weight,placeholder:"200",className:"d-block w-100",id:"weight"}))}}),n.weight&&a.weight&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.weight})]}),Object(C.jsxs)("div",{className:n.calories&&a.calories?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"calories",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),Object(C.jsx)(X.a,{name:"calories",children:function(t){var a=t.field;return Object(C.jsx)(te.a,Object(j.a)(Object(j.a)({},a),{},{maskChar:null,mask:"99999",type:"phone",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.calories,placeholder:"345",className:"d-block w-100",id:"calories"}))}}),n.calories&&a.calories&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.calories})]}),Object(C.jsx)("button",{className:"ui primary button mt-30 w-100",type:"submit",disabled:o||Object.keys(a).length>0,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),e.state.generalError&&Object(C.jsx)("div",{className:"mt-10 error-msg",children:e.state.generalError})]})}})})})]})}}]),r}(l.a.Component),se=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"renderCells",value:function(){var e=this;return this.props.meals.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.nutriment||"-"}),Object(C.jsx)("td",{children:t.weight||"-"}),Object(C.jsxs)("td",{children:[t.calories,Object(C.jsxs)("div",{className:"table-controls",children:[Object(C.jsx)("i",{className:"edit icon cursor-pointer",onClick:function(){e.props.onEditClick(t._id)}}),Object(C.jsx)("i",{className:"close icon cursor-pointer",onClick:function(){e.props.onDeleteClick(t._id)}})]})]})]},t._id)}))}},{key:"render",value:function(){return Object(C.jsxs)("table",{className:"ui celled striped table",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{colSpan:"3",children:"\u041f\u0440\u0438\u0435\u043c\u044b \u043f\u0438\u0449\u0438"})})}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"\u0415\u0434\u0430"}),Object(C.jsx)("td",{children:"\u0412\u0435\u0441"}),Object(C.jsx)("td",{children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"})]}),this.renderCells()]})]})}}]),r}(l.a.Component),ie=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"renderCells",value:function(){var e=this;return this.props.activities.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.name||"-"}),Object(C.jsx)("td",{children:t.duration||"-"}),Object(C.jsxs)("td",{children:[t.calories,Object(C.jsxs)("div",{className:"table-controls",children:[Object(C.jsx)("i",{className:"edit icon cursor-pointer",onClick:function(){e.props.onEditClick(t._id)}}),Object(C.jsx)("i",{className:"close icon cursor-pointer",onClick:function(){e.props.onDeleteClick(t._id)}})]})]})]},t._id)}))}},{key:"render",value:function(){return Object(C.jsxs)("table",{className:"ui celled striped table",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{colSpan:"3",children:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"})})}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(C.jsx)("td",{children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d\u0443\u0442\u044b)"}),Object(C.jsx)("td",{children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u043a\u0430\u043b\u043e\u0440\u0438\u0438"})]}),this.renderCells()]})]})}}]),r}(l.a.Component),ce=r(170),oe=function(e){var t={};return e.calories||(t.calories="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.duration||(t.duration="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),t},ue=r(380),le=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={initialValues:{name:e.props.activity&&e.props.activity.name?e.props.activity.name:"",calories:e.props.activity&&e.props.activity.calories?e.props.activity.calories:"",duration:e.props.activity&&e.props.activity.duration?e.props.activity.duration:""},serverErrors:{},generalError:"",activitiesOptions:e.createActivitiesOptions(),selectedOption:null},e.handleFocus=function(t){var r=JSON.stringify(e.state);delete(r=JSON.parse(r)).serverErrors[t.target.name],e.setState(r)},e.onSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.setSubmitting,e.setState(Object(j.a)(Object(j.a)({},e.state),{},{serverErrors:{},generalError:""})),!e.props.activity){t.next=8;break}return t.next=5,e.props.updateActivity(r,e.props.activity._id);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,e.props.createActivity(r);case 10:t.t0=t.sent;case 11:if((i=t.t0).status){t.next=15;break}return e.props.closeModal(),t.abrupt("return");case 15:if(!i.data.errors||!i.data.errors.length){t.next=19;break}return i.data.errors.forEach((function(t){e.state.serverErrors[t.param]=t.msg})),s(!1),t.abrupt("return");case 19:e.setState(Object(j.a)(Object(j.a)({},e.state),{},{generalError:i.data.error.message})),s(!1);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.handleActivityNameChange=function(t,r,a){a("name",t.target.value),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{selectedOption:null}))},e.handleActivityNameDropdownSelect=function(t,r,a,n){var s=r.value,i=e.props.calculatedActivities.find((function(e){return e._id===s}));n("name",i.name),n("calories",i.caloriesPerMin),n("duration",1),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{selectedOption:i}))},e.handleDurationChange=function(t,r,a){var n=t.target.value;if(a("duration",n),e.state.selectedOption){var s=e.props.profile.stats.averageWeight||e.props.profile.weight;a("calories",Math.floor(e.state.selectedOption.caloriesPerMin*s*n))}},e}return Object(f.a)(r,[{key:"createActivitiesOptions",value:function(){return this.props.calculatedActivities.map((function(e){return{key:e._id,value:e._id,text:e.name}}))}},{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.calculatedActivities.length){e.next=4;break}return e.next=3,this.props.fetchCalculatedActivities();case 3:this.setState(Object(j.a)(Object(j.a)({},this.state),{},{activitiesOptions:this.createActivitiesOptions()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.activity!==e.activity&&this.setState(Object(j.a)(Object(j.a)({},this.state),{},{initialValues:{name:this.props.activity&&this.props.activity.name?this.props.activity.name:"",calories:this.props.activity&&this.props.activity.calories?this.props.activity.calories:"",duration:this.props.activity&&this.props.activity.duration?this.props.activity.duration:""}}))}},{key:"render",value:function(){var e=this;return Object(C.jsxs)(Q,{modalIsOpen:this.props.modalIsOpen,closeModal:this.props.closeModal,children:[Object(C.jsxs)("div",{className:"modal-box-header",children:[Object(C.jsx)("div",{className:"modal-box-header-content",children:"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),Object(C.jsx)("i",{onClick:this.props.closeModal,className:"close icon modal-box-close-btn"})]}),Object(C.jsx)("div",{className:"modal-box-content",children:Object(C.jsx)("div",{className:"modal-box-content-inner",children:Object(C.jsx)(re,{initialValues:this.state.initialValues,onSubmit:this.onSubmit,validate:oe,children:function(t){var r=t.values,a=t.errors,n=t.touched,s=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting,u=t.setFieldValue;return a=Object(j.a)(Object(j.a)({},a),e.state.serverErrors),Object(C.jsxs)("form",{onSubmit:c,noValidate:!0,children:[Object(C.jsxs)("div",{className:n.name&&a.name?"ui input w-100 error":"ui input w-100",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"name",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),Object(C.jsx)("input",{type:"text",name:"name",onFocus:e.handleFocus,onChange:function(t){e.handleActivityNameChange(t,s,u)},onBlur:i,value:r.name,className:"d-block w-100",id:"name",placeholder:"\u041a\u043e\u043f\u0430\u043b \u043a\u0430\u0440\u0442\u043e\u0448\u043a\u0443"}),Object(C.jsx)(ue.a,{fluid:!0,search:!0,selection:!0,options:e.state.activitiesOptions,placeholder:r.name,noResultsMessage:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 ;(",onChange:function(t,r){e.handleActivityNameDropdownSelect(t,r,s,u)},value:r.name,className:"mt-5"}),n.name&&a.name&&Object(C.jsx)("div",{className:"mt-5 error-msg d-block",children:a.name})]}),Object(C.jsxs)("div",{className:n.duration&&a.duration?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"duration",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043c\u0438\u043d)"}),Object(C.jsx)(X.a,{name:"duration",children:function(t){var a=t.field;return Object(C.jsx)(te.a,Object(j.a)(Object(j.a)({},a),{},{maskChar:null,mask:"999",type:"phone",onFocus:e.handleFocus,onChange:function(t){e.handleDurationChange(t,s,u)},onBlur:i,value:r.duration,placeholder:"40",className:"d-block w-100",id:"duration"}))}}),n.duration&&a.duration&&Object(C.jsx)("div",{className:"mt-5 error-msg d-block",children:a.duration})]}),Object(C.jsxs)("div",{className:n.calories&&a.calories?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"calories",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),Object(C.jsx)(X.a,{name:"calories",children:function(t){var a=t.field;return Object(C.jsx)(B.a,Object(j.a)(Object(j.a)({},a),{},Object(ce.a)({className:"d-block w-100",type:"tel",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.calories,placeholder:"345"},"placeholder","55")))}}),n.calories&&a.calories&&Object(C.jsx)("div",{className:"mt-5 error-msg d-block",children:a.calories})]}),Object(C.jsx)("button",{className:"ui primary button mt-30 w-100",type:"submit",disabled:o||Object.keys(a).length>0,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),e.state.generalError&&Object(C.jsx)("div",{className:"mt-10 error-msg",children:e.state.generalError})]})}})})})]})}}]),r}(l.a.Component),de={fetchCalculatedActivities:x.fetchCalculatedActivities},pe=Object(o.b)((function(e){return{calculatedActivities:e.activities.calculatedActivities,profile:e.user.profile}}),de)(le),he=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={mealModalIsOpen:!1,activityModalIsOpen:!1,currentActivity:null,currentMeal:null},e.closeMealModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{mealModalIsOpen:!1}))},e.openCreateMealModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{mealModalIsOpen:!0}))},e.openEditMealModal=function(t){var r=e.props.today.meals.find((function(e){return e._id===t}));r&&e.setState(Object(j.a)(Object(j.a)({},e.state),{},{currentMeal:r}),(function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{mealModalIsOpen:!0}))}))},e.createMeal=function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.createMeal(r);case 2:return a=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateMeal=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateMeal(r,a);case 2:return s=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.deleteMeal=function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteMeal(r);case 2:return a=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeActivityModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{activityModalIsOpen:!1}))},e.openCreateActivityModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{activityModalIsOpen:!0}))},e.openEditActivityModal=function(t){var r=e.props.today.dailyActivities.find((function(e){return e._id===t}));r&&e.setState(Object(j.a)(Object(j.a)({},e.state),{},{currentActivity:r}),(function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{activityModalIsOpen:!0}))}))},e.createActivity=function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.createActivity(r);case 2:return a=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateActivity=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateActivity(r,a);case 2:return s=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.deleteActivity=function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteActivity(r);case 2:return a=t.sent,t.next=5,e.props.fetchDays();case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchDays()}},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ne,{modalIsOpen:this.state.mealModalIsOpen,closeModal:this.closeMealModal,createMeal:this.createMeal,updateMeal:this.updateMeal,meal:this.state.currentMeal}),Object(C.jsx)(pe,{modalIsOpen:this.state.activityModalIsOpen,closeModal:this.closeActivityModal,createActivity:this.createActivity,updateActivity:this.updateActivity,activity:this.state.currentActivity}),Object(C.jsx)(P,{activeLink:g}),Object(C.jsx)(Y,{}),this.props.days.length<0?Object(C.jsx)("div",{className:"full-page-content-centered",children:Object(C.jsx)(M,{size:"massive"})}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(J,{}),Object(C.jsx)(se,{onEditClick:this.openEditMealModal,onDeleteClick:this.deleteMeal,meals:this.props.today&&this.props.today.meals?this.props.today.meals:[]}),Object(C.jsx)(ie,{onEditClick:this.openEditActivityModal,onDeleteClick:this.deleteActivity,activities:this.props.today&&this.props.today.dailyActivities?this.props.today.dailyActivities:[]}),Object(C.jsx)(W,{onAddMealClick:this.openCreateMealModal,onAddActivityClick:this.openCreateActivityModal})]})]})}}]),r}(l.a.Component),je={fetchDays:v.fetchDays,createMeal:y.createMeal,updateMeal:y.updateMeal,deleteMeal:y.deleteMeal,createActivity:x.createActivity,updateActivity:x.updateActivity,deleteActivity:x.deleteActivity},be=Object(o.b)((function(e){return{days:e.days.days,today:e.days.today}}),je)(_(D(he))),fe=r(267),me=r(382),Oe=function(){var e=Object(me.a)("notFoundPage"),t=Object(fe.a)(e,1)[0];return Object(C.jsx)("div",{className:"content-centered",children:Object(C.jsx)("h1",{children:t("notFound")})})},ve=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"ui cards",children:Object(C.jsx)("div",{className:"card",children:Object(C.jsx)("div",{className:"content",children:this.props.children})})})}}]),r}(l.a.Component),ye=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email"):t.email="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",e.password?e.password.length<5&&(t.password="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):t.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",t},xe=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={initialValues:{email:"",password:""},serverErrors:{},generalError:""},e.handleFocus=function(t){var r=JSON.stringify(e.state);delete(r=JSON.parse(r)).serverErrors[t.target.name],e.setState(r)},e.onSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.setSubmitting,e.setState(Object(j.a)(Object(j.a)({},e.state),{},{serverErrors:{},generalError:""})),t.next=4,e.props.loginUser(r);case 4:if((i=t.sent).status){t.next=8;break}return e.props.history.push(g),t.abrupt("return");case 8:if(!i.data.errors||!i.data.errors.length){t.next=12;break}return i.data.errors.forEach((function(t){e.state.serverErrors[t.param]=t.msg})),s(!1),t.abrupt("return");case 12:e.setState(Object(j.a)(Object(j.a)({},e.state),{},{generalError:i.data.error.message})),s(!1);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"content-centered mt-60-resp",children:Object(C.jsxs)(ve,{children:[Object(C.jsx)(re,{initialValues:this.state.initialValues,onSubmit:this.onSubmit,validate:ye,children:function(t){var r=t.values,a=t.errors,n=t.touched,s=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return a=Object(j.a)(Object(j.a)({},a),e.state.serverErrors),Object(C.jsxs)("form",{onSubmit:c,noValidate:!0,children:[Object(C.jsxs)("div",{className:n.email&&a.email?"ui input w-100 error":"ui input w-100",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"email",children:"Email"}),Object(C.jsx)("input",{type:"email",name:"email",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.email,placeholder:"mail@mail.com",className:"d-block",id:"email"}),n.email&&a.email&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.email})]}),Object(C.jsxs)("div",{className:n.password&&a.password?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(C.jsx)("input",{type:"password",name:"password",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.password,placeholder:"******",className:"d-block",id:"password"}),n.password&&a.password&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.password})]}),Object(C.jsx)("button",{className:"ui primary button mt-30 w-100",type:"submit",disabled:o||Object.keys(a).length>0,children:"\u0412\u043e\u0439\u0442\u0438"}),e.state.generalError&&Object(C.jsx)("div",{className:"mt-10 error-msg",children:e.state.generalError})]})}}),Object(C.jsx)("div",{className:"content-centered mt-10",children:Object(C.jsx)(d.Link,{to:A,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})})}}]),r}(l.a.Component),ge={loginUser:U.loginUser},Ee=Object(o.b)(null,ge)(xe),we=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email"):t.email="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",e.password?e.password.length<5&&(t.password="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):t.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",e.passwordConfirmation?e.password!==e.passwordConfirmation&&(t.passwordConfirmation="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c"):t.passwordConfirmation="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",t},Ae=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={initialValues:{email:"",password:"",passwordConfirmation:""},serverErrors:{},generalError:""},e.handleFocus=function(t){var r=JSON.stringify(e.state);delete(r=JSON.parse(r)).serverErrors[t.target.name],e.setState(r)},e.onSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.setSubmitting,e.setState(Object(j.a)(Object(j.a)({},e.state),{},{serverErrors:{},generalError:""})),t.next=4,e.props.registerUser(r);case 4:if((i=t.sent).status){t.next=8;break}return e.props.history.push(k),t.abrupt("return");case 8:if(!i.data.errors||!i.data.errors.length){t.next=12;break}return i.data.errors.forEach((function(t){e.state.serverErrors[t.param]=t.msg})),s(!1),t.abrupt("return");case 12:e.setState(Object(j.a)(Object(j.a)({},e.state),{},{generalError:i.data.error.message})),s(!1);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"content-centered mt-60-resp",children:Object(C.jsxs)(ve,{children:[Object(C.jsx)(re,{initialValues:this.state.initialValues,onSubmit:this.onSubmit,validate:we,children:function(t){var r=t.values,a=t.errors,n=t.touched,s=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return a=Object(j.a)(Object(j.a)({},a),e.state.serverErrors),Object(C.jsxs)("form",{onSubmit:c,noValidate:!0,children:[Object(C.jsxs)("div",{className:n.email&&a.email?"ui input w-100 error":"ui input w-100",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"email",children:"Email"}),Object(C.jsx)("input",{type:"email",name:"email",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.email,placeholder:"mail@mail.com",className:"d-block",id:"email"}),n.email&&a.email&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.email})]}),Object(C.jsxs)("div",{className:n.password&&a.password?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(C.jsx)("input",{type:"password",name:"password",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.password,placeholder:"******",className:"d-block",id:"password"}),n.password&&a.password&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.password})]}),Object(C.jsxs)("div",{className:n.passwordConfirmation&&a.passwordConfirmation?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"passwordConfirmation",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(C.jsx)("input",{type:"password",name:"passwordConfirmation",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.passwordConfirmation,placeholder:"******",className:"d-block",id:"passwordConfirmation"}),n.passwordConfirmation&&a.passwordConfirmation&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.passwordConfirmation})]}),Object(C.jsx)("button",{className:"ui primary button mt-30 w-100",type:"submit",disabled:o||Object.keys(a).length>0,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),e.state.generalError&&Object(C.jsx)("div",{className:"mt-10 error-msg",children:e.state.generalError})]})}}),Object(C.jsx)("div",{className:"content-centered mt-10",children:Object(C.jsx)(d.Link,{to:w,children:"\u0412\u043e\u0439\u0442\u0438"})})]})})}}]),r}(l.a.Component),ke={registerUser:U.registerUser},Ne=Object(o.b)(null,ke)(Ae),Te=function(e){var t={};return e.username||(t.username="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.weight||(t.weight="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.caloriesPerDay||(t.caloriesPerDay="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),e.age||(t.age="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),t},Ce=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={initialValues:{username:e.props.profile?e.props.profile.username:"",weight:"",caloriesPerDay:"",age:""},serverErrors:{},generalError:""},e.handleFocus=function(t){var r=JSON.stringify(e.state);delete(r=JSON.parse(r)).serverErrors[t.target.name],e.setState(r)},e.onSubmit=function(){var t=Object(s.a)(n.a.mark((function t(r,a){var s,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.setSubmitting,e.setState(Object(j.a)(Object(j.a)({},e.state),{},{serverErrors:{},generalError:""})),t.next=4,e.props.createUserProfile(r);case 4:if((i=t.sent).status){t.next=8;break}return e.props.history.push(g),t.abrupt("return");case 8:if(!i.data.errors||!i.data.errors.length){t.next=12;break}return i.data.errors.forEach((function(t){e.state.serverErrors[t.param]=t.msg})),s(!1),t.abrupt("return");case 12:e.setState(Object(j.a)(Object(j.a)({},e.state),{},{generalError:i.data.error.message})),s(!1);case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(f.a)(r,[{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{className:"content-centered mt-60-resp",children:Object(C.jsx)(ve,{children:Object(C.jsx)(re,{initialValues:this.state.initialValues,onSubmit:this.onSubmit,validate:Te,children:function(t){var r=t.values,a=t.errors,n=t.touched,s=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return a=Object(j.a)(Object(j.a)({},a),e.state.serverErrors),Object(C.jsxs)("form",{onSubmit:c,noValidate:!0,children:[Object(C.jsxs)("div",{className:n.username&&a.username?"ui input w-100 error":"ui input w-100",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"username",children:"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"}),Object(C.jsx)("input",{type:"text",name:"username",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.username,placeholder:"Cool Person",className:"d-block",id:"username"}),n.username&&a.username&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.username})]}),Object(C.jsxs)("div",{className:n.weight&&a.weight?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"weight",children:"\u0412\u0435\u0441"}),Object(C.jsx)(X.a,{name:"weight",children:function(t){var a=t.field;return Object(C.jsx)(B.a,Object(j.a)(Object(j.a)({},a),{},{type:"tel",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.weight,placeholder:"55",className:"d-block",id:"weight",decimalScale:1}))}}),n.weight&&a.weight&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.weight})]}),Object(C.jsxs)("div",{className:n.caloriesPerDay&&a.caloriesPerDay?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"caloriesPerDay",children:"\u041d\u043e\u0440\u043c\u0430 \u043a\u0430\u043b\u043e\u0440\u0438\u0439 \u0432 \u0434\u0435\u043d\u044c"}),Object(C.jsx)(X.a,{name:"caloriesPerDay",children:function(t){var a=t.field;return Object(C.jsx)(te.a,Object(j.a)(Object(j.a)({},a),{},{maskChar:null,mask:"99999",type:"phone",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.caloriesPerDay,placeholder:"2000",className:"d-block",id:"caloriesPerDay"}))}}),n.caloriesPerDay&&a.caloriesPerDay&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.caloriesPerDay})]}),Object(C.jsxs)("div",{className:n.age&&a.age?"ui input w-100 error mt-20":"ui input w-100 mt-20",children:[Object(C.jsx)("label",{className:"w-100",htmlFor:"age",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),Object(C.jsx)(X.a,{name:"age",children:function(t){var a=t.field;return Object(C.jsx)(te.a,Object(j.a)(Object(j.a)({},a),{},{maskChar:null,mask:"999",type:"phone",onFocus:e.handleFocus,onChange:s,onBlur:i,value:r.age,placeholder:"22",className:"d-block",id:"age"}))}}),n.age&&a.age&&Object(C.jsx)("div",{className:"mt-5 error-msg",children:a.age})]}),Object(C.jsx)("button",{className:"ui primary button mt-30 w-100",type:"submit",disabled:o||Object.keys(a).length>0,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),e.state.generalError&&Object(C.jsx)("div",{className:"mt-10 error-msg",children:e.state.generalError})]})}})})})}}]),r}(l.a.Component),Se={createUserProfile:U.createUserProfile},_e=Object(o.b)((function(e){return{profile:e.user.profile}}),Se)(D(Ce)),Ie=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(h.g,{children:[Object(C.jsx)(h.d,{exact:!0,path:w,component:Ee}),Object(C.jsx)(h.d,{exact:!0,path:g,component:be}),Object(C.jsx)(h.d,{exact:!0,path:E,component:Oe}),Object(C.jsx)(h.d,{exact:!0,path:A,component:Ne}),Object(C.jsx)(h.d,{exact:!0,path:k,component:_e}),Object(C.jsx)(h.d,{children:Object(C.jsx)(h.c,{to:E})})]})})},De=function(){var e=Object(h.l)().pathname;return Object(u.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Me={loadInitialAppData:r(207).loadInitialAppData},Ue=Object(o.b)((function(e){return{isAppInitialDataLoaded:e.app.isInitialDataLoaded}}),Me)((function(e){var t=e.isAppInitialDataLoaded,r=e.loadInitialAppData;return Object(u.useEffect)((function(){r()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(d.BrowserRouter,{children:[Object(C.jsx)(De,{}),Object(C.jsx)(p.LastLocationProvider,{children:t?Object(C.jsx)(Ie,{}):Object(C.jsx)("div",{className:"full-page-content-centered",children:Object(C.jsx)(M,{size:"massive"})})})]})})})),Fe=r(208),Le=r(221),Re=r(160),Pe={en:r(264),ru:r(265)},Ve=r(266);Le.a.use(Ve.a).use(Re.e).init({detection:{order:["querystring","navigator"],lookupQuerystring:"lng"},resources:Pe,fallbackLng:"en",supportedLngs:["ru","en"],keySeparator:".",interpolation:{escapeValue:!1}});Le.a;Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.default)();case 2:t=e.sent,c.a.render(Object(C.jsx)(o.a,{store:t,children:Object(C.jsx)(Ue,{})}),document.querySelector("#root"));case 4:case"end":return e.stop()}}),e)})))()},38:function(e,t,r){"use strict";r.r(t),r.d(t,"SET_LANGUAGE",(function(){return a})),r.d(t,"REGISTER_USER",(function(){return n})),r.d(t,"SET_IS_AUTH",(function(){return s})),r.d(t,"LOGIN_USER",(function(){return i})),r.d(t,"LOGOUT_USER",(function(){return c})),r.d(t,"CREATE_PROFILE",(function(){return o})),r.d(t,"GET_PROFILE",(function(){return u})),r.d(t,"SET_TOKENS",(function(){return l}));var a="SET_LANGUAGE",n="REGISTER_USER",s="SET_IS_AUTH",i="LOGIN_USER",c="LOGOUT_USER",o="CREATE_PROFILE",u="GET_PROFILE",l="SET_TOKENS"},47:function(e,t,r){"use strict";r.r(t),r.d(t,"setIsAuth",(function(){return l})),r.d(t,"setTokens",(function(){return d})),r.d(t,"logoutUser",(function(){return p})),r.d(t,"registerUser",(function(){return h})),r.d(t,"loginUser",(function(){return j})),r.d(t,"createUserProfile",(function(){return b})),r.d(t,"fetchUserProfile",(function(){return f})),r.d(t,"setLanguage",(function(){return m}));var a=r(9),n=r.n(a),s=r(12),i=r(38),c=r(29),o=r(28),u=r(106),l=function(e){return{type:i.SET_IS_AUTH,payload:e}},d=function(e){return{type:i.SET_TOKENS,payload:e}},p=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.$instance.post(o.k);case 2:return(r=e.sent).status||(c.a.$instance.removeHeader("Authorization"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t(d({accessToken:null,refreshToken:null})),t(l(!1))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.post(o.m,e);case 2:if((a=t.sent).status){t.next=8;break}return Object(u.a)(a.data.accessToken,a.data.refreshToken),t.next=7,r(f());case 7:r({type:i.REGISTER_USER,payload:a.data});case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.post(o.j,e);case 2:if((a=t.sent).status){t.next=8;break}return Object(u.a)(a.data.accessToken,a.data.refreshToken),t.next=7,r(f());case 7:r({type:i.LOGIN_USER,payload:a.data});case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(r){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.$instance.post(o.c,e);case 2:return(a=t.sent).status||r({type:i.CREATE_PROFILE,payload:a.data.user}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.$instance.get(o.i);case 2:return(r=e.sent).status||t({type:i.GET_PROFILE,payload:r.data.user}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return c.a.$instance.setLanguage(e),{type:i.SET_LANGUAGE,payload:e}}},61:function(e,t,r){"use strict";r.r(t),r.d(t,"SET_CURRENT_ACTIVITY",(function(){return a})),r.d(t,"UPDATE_CURRENT_ACTIVITY",(function(){return n})),r.d(t,"CREATE_ACTIVITY",(function(){return s})),r.d(t,"DELETE_ACTIVITY",(function(){return i})),r.d(t,"FETCH_CALCULATED_ACTIVITIES",(function(){return c}));var a="FETCH_CURRENT_ACTIVITY",n="UPDATE_CURRENT_ACTIVITY",s="CREATE_ACTIVITY",i="DELETE_ACTIVITY",c="FETCH_CALCULATED_ACTIVITIES"},77:function(e,t,r){"use strict";r.r(t),r.d(t,"SET_CURRENT_MEAL",(function(){return a})),r.d(t,"UPDATE_CURRENT_MEAL",(function(){return n})),r.d(t,"CREATE_MEAL",(function(){return s})),r.d(t,"DELETE_MEAL",(function(){return i}));var a="FETCH_CURRENT_MEAL",n="UPDATE_CURRENT_MEAL",s="CREATE_MEAL",i="DELETE_MEAL"},81:function(e,t,r){"use strict";r.r(t),r.d(t,"FETCH_DAYS",(function(){return a})),r.d(t,"SET_TODAY",(function(){return n})),r.d(t,"UPDATE_TODAY",(function(){return s}));var a="FETCH_DAYS",n="SET_TODAY",s="UPDATE_TODAY"},98:function(e,t,r){"use strict";t.a=function(e,t){for(var r in t){var a=r,n=t[r];e=e.replace(":".concat(a),n)}return e}}},[[334,1,2]]]);
//# sourceMappingURL=main.66a4a771.chunk.js.map