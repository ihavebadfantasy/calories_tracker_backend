{"version":3,"sources":["helpers/setAccessTokens.js","store/activities/actions.js","store/days/actions.js","store/app/types.js","store/meals/actions.js","store/app/actions.js","store/index.js","store/activities/state.js","store/app/state.js","store/days/state.js","store/meals/state.js","store/user/state.js","store/activities/reducer.js","store/app/reducer.js","store/days/reducer.js","store/meals/reducer.js","store/user/reducer.js","api/urls.js","config/index.js","api/Api.js","store sync //.js$","store lazy /^/.//.*//reducer/.js$/ groupOptions: {} namespace object","components/navigation/routes.js","components/HOC/requireRegistrationCompletion.js","components/HOC/requireAuth.js","components/shared/Loader.js","components/shared/Header.js","components/shared/AverageStats.js","components/shared/TodayStats.js","components/shared/AddDropdownButton.js","components/modals/ModalBox.js","components/forms/Form.js","helpers/validations/createMealValidations.js","components/modals/MealModal.js","components/shared/MealsTable.js","components/shared/ActivitiesTable.js","helpers/validations/createActivityValidations.js","components/modals/ActivityModal.js","components/pages/Home.js","components/pages/NotFound.js","components/forms/FormCard.js","helpers/validations/loginValidations.js","components/pages/Login.js","helpers/validations/registerValidations.js","components/pages/Register.js","helpers/validations/createProfileValidations.js","components/pages/CreateProfile.js","components/navigation/Navigation.js","components/navigation/ScrollToTop.js","App.js","content/resources.js","content/i18n.js","index.js","store/user/types.js","store/user/actions.js","store/activities/types.js","store/meals/types.js","store/days/types.js","helpers/makeUrl.js"],"names":["setAccessTokens","accessToken","refreshToken","localStorage","setItem","Api","$instance","setHeader","fetchCalculatedActivities","dispatch","a","get","GET_CALCULATED_ACTIVITIES_URL","res","status","type","FETCH_CALCULATED_ACTIVITIES","payload","data","activities","createActivity","credentials","post","CREATE_ACTIVITY_URL","CREATE_ACTIVITY","dailyActivity","updateActivity","id","put","makeUrl","UPDATE_ACTIVITY_URL","UPDATE_CURRENT_ACTIVITY","deleteActivity","delete","DELETE_ACTIVITY_URL","DELETE_ACTIVITY","fetchDays","GET_DAYS_URL","findAndSetToday","days","FETCH_DAYS","createToday","CREATE_TODAY_URL","updateToday","UPDATE_DAY_URL","UPDATE_TODAY","day","now","DateTime","toString","slice","indexOf","todayArr","filter","createdAt","today","length","SET_TODAY","LOAD_INITIAL_APP_DATA","createMeal","CREATE_MEAL_URL","CREATE_MEAL","meal","updateMeal","UPDATE_MEAL_URL","UPDATE_CURRENT_MEAL","deleteMeal","DELETE_MEAL_URL","DELETE_MEAL","loadInitialAppData","setLanguage","getItem","setTokens","setIsAuth","fetchUserProfile","createStore","modules","moduleImports","requireModule","require","paths","keys","path","includes","moduleName","moduleImport","then","module","reducer","push","Promise","all","rootReducer","combineReducers","reduxCreateStore","composeWithDevTools","applyMiddleware","thunk","currentActivity","calculatedActivities","isInitialDataLoaded","currentMeal","tokens","isAuth","profile","language","state","activitiesState","action","SET_CURRENT_ACTIVITY","appState","daysState","mealsState","SET_CURRENT_MEAL","userState","REGISTER_USER","LOGIN_USER","GET_PROFILE","CREATE_PROFILE","SET_LANGUAGE","SET_IS_AUTH","SET_TOKENS","LOGIN_URL","LOGOUT_URL","REGISTER_URL","REFRESH_URL","CREATE_PROFILE_URL","GET_USER_PROFILE_URL","api","urls","baseUrl","process","default","app","numberMask","client","config","headers","excludeRefreshUrls","this","header","value","url","initClient","response","errorHandler","e","method","handle401Error","refreshRes","pop","axios","create","baseURL","params","instance","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","Object","resolve","exports","webpackAsyncContext","mapStateToProps","user","requireRegistrationCompletion","ChildComponent","ComposedComponent","shouldNavigateAway","prevProps","prevState","snapshot","props","isRegistrationComplete","history","routes","React","Component","connect","auth","requireAuth","Loader","size","className","headerNavItems","text","to","Header","item","activeClassName","renderNavMenu","onClick","logoutUser","mapDispatchToProps","AverageStats","stats","averageWeight","averageCaloriesPerDay","averageActivityPerDay","TodayStats","weightEditEnabled","editableWeight","enableWeightEdit","setState","onWeightInputChange","target","onEditWeightSubmit","preventDefault","createTodayRes","toast","title","description","error","message","time","weight","_id","caloriesLeft","caloriesPerDay","activity","position","onSubmit","onChange","placeholder","decimalScale","AddDropdownButton","isOptionsVisible","toggleOptions","onAddMealClick","onAddActivityClick","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","ModalBox","isOpen","modalIsOpen","onRequestClose","closeModal","style","children","ReactDOM","render","document","getElementById","Form","initialValues","validate","createMealValidations","values","errors","calories","MealModal","nutriment","serverErrors","generalError","handleFocus","newState","JSON","stringify","parse","name","setSubmitting","forEach","param","msg","touched","handleChange","handleBlur","handleSubmit","isSubmitting","noValidate","htmlFor","onFocus","onBlur","field","maskChar","mask","disabled","MealsTable","meals","onEditClick","onDeleteClick","colSpan","renderCells","ActivitiesTable","duration","createActivityValidations","ActivityModal","activitiesOptions","createActivitiesOptions","selectedOption","handleActivityNameChange","setFieldValue","handleActivityNameDropdownSelect","selectedActivity","find","caloriesPerMin","handleDurationChange","Math","floor","key","Dropdown","fluid","search","selection","options","noResultsMessage","Home","mealModalIsOpen","activityModalIsOpen","closeMealModal","openCreateMealModal","openEditMealModal","mealId","closeActivityModal","openCreateActivityModal","openEditActivityModal","activityId","dailyActivities","activeLink","NotFound","useTranslation","t","FormCard","loginValidations","email","test","password","Login","loginUser","registerValidations","passwordConfirmation","Register","registerUser","createProfileValidations","username","age","CreateProfile","createUserProfile","Navigation","exact","component","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","isAppInitialDataLoaded","en","ru","i18n","use","LanguageDetector","initReactI18next","init","detection","order","lookupQuerystring","resources","fallbackLng","supportedLngs","keySeparator","interpolation","escapeValue","store","querySelector","LOGOUT_USER","authState","removeHeader","removeItem","paramName","paramValue","replace"],"mappings":"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","file":"static/js/main.66a4a771.chunk.js","sourcesContent":["import { Api } from '../api/Api';\n\nconst setAccessTokens = (accessToken, refreshToken) => {\n  localStorage.setItem('accessToken', accessToken);\n  localStorage.setItem('refreshToken', refreshToken);\n\n  Api.$instance.setHeader('Authorization', accessToken);\n}\n\nexport default setAccessTokens;\n","import {\n  SET_CURRENT_ACTIVITY,\n  UPDATE_CURRENT_ACTIVITY,\n  CREATE_ACTIVITY,\n  DELETE_ACTIVITY,\n  FETCH_CALCULATED_ACTIVITIES,\n} from './types';\nimport { Api } from '../../api/Api';\nimport {\n  CREATE_ACTIVITY_URL,\n  UPDATE_ACTIVITY_URL,\n  DELETE_ACTIVITY_URL,\n  GET_CALCULATED_ACTIVITIES_URL\n} from '../../api/urls';\nimport makeUrl from '../../helpers/makeUrl';\n\nexport const fetchCalculatedActivities = () => {\n  return async (dispatch) => {\n    const res = await Api.$instance.get(GET_CALCULATED_ACTIVITIES_URL);\n\n    if (!res.status) {\n      dispatch({\n        type: FETCH_CALCULATED_ACTIVITIES,\n        payload: res.data.activities,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const createActivity = (credentials) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(CREATE_ACTIVITY_URL, credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: CREATE_ACTIVITY,\n        payload: res.data.dailyActivity,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const updateActivity = (credentials, id) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.put(makeUrl(UPDATE_ACTIVITY_URL, { id }), credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: UPDATE_CURRENT_ACTIVITY,\n        payload: res.data.dailyActivity,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const deleteActivity = (id) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.delete(makeUrl(DELETE_ACTIVITY_URL, { id }));\n\n    if (!res.status) {\n      dispatch({\n        type: DELETE_ACTIVITY,\n      });\n    }\n\n    return res;\n  }\n}\n","import { FETCH_DAYS, SET_TODAY, UPDATE_TODAY } from './types';\nimport { Api } from '../../api/Api';\nimport { GET_DAYS_URL, UPDATE_DAY_URL, CREATE_TODAY_URL } from '../../api/urls';\nimport { DateTime } from 'luxon';\nimport makeUrl from '../../helpers/makeUrl';\n\nexport const fetchDays = () => {\n  return async (dispatch) => {\n    const res = await Api.$instance.get(GET_DAYS_URL);\n\n    if (!res.status) {\n      dispatch(findAndSetToday(res.data.days));\n      dispatch({\n        type: FETCH_DAYS,\n        payload: res.data.days,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const createToday = () => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(CREATE_TODAY_URL);\n    if (!res.status) {\n      await dispatch(fetchDays());\n    }\n\n    return res;\n  }\n}\n\nexport const updateToday = (credentials, id) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.put(makeUrl(UPDATE_DAY_URL, { id }), credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: UPDATE_TODAY,\n        payload: res.data.day,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const findAndSetToday = (days) => {\n  let now = DateTime.now().toString();\n  now = now.slice(0, now.indexOf('T'));\n\n  const todayArr = days.filter((day) => {\n    const createdAt = day.createdAt.slice(0, day.createdAt.indexOf('T'));\n\n    return createdAt === now;\n  });\n\n  let today = null;\n  if (todayArr.length > 0) {\n    today = todayArr[0];\n  }\n\n  return {\n    type: SET_TODAY,\n    payload: today,\n  }\n}\n","export const LOAD_INITIAL_APP_DATA = 'LOAD_INITIAL_APP_DATA';\n","import {\n  SET_CURRENT_MEAL,\n  UPDATE_CURRENT_MEAL,\n  CREATE_MEAL,\n  DELETE_MEAL,\n} from './types';\nimport { Api } from '../../api/Api';\nimport {\n  CREATE_MEAL_URL,\n  UPDATE_MEAL_URL,\n  DELETE_MEAL_URL,\n} from '../../api/urls';\nimport makeUrl from '../../helpers/makeUrl';\n\nexport const createMeal = (credentials) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(CREATE_MEAL_URL, credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: CREATE_MEAL,\n        payload: res.data.meal,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const updateMeal = (credentials, id) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.put(makeUrl(UPDATE_MEAL_URL, { id }), credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: UPDATE_CURRENT_MEAL,\n        payload: res.data.meal,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const deleteMeal = (id) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.delete(makeUrl(DELETE_MEAL_URL, { id }));\n\n    if (!res.status) {\n      dispatch({\n        type: DELETE_MEAL,\n      });\n    }\n\n    return res;\n  }\n}\n","import { LOAD_INITIAL_APP_DATA } from './types';\nimport { setLanguage, fetchUserProfile, setIsAuth, setTokens } from '../user/actions';\nimport setAccessTokens from '../../helpers/setAccessTokens';\n\nexport const loadInitialAppData = () => {\n  return async (dispatch) => {\n    dispatch(setLanguage(localStorage.getItem('i18nextLng')));\n\n    const accessToken = localStorage.getItem('accessToken');\n    const refreshToken = localStorage.getItem('refreshToken');\n    if (accessToken && refreshToken) {\n      setAccessTokens(accessToken, refreshToken);\n      dispatch(setTokens({ accessToken, refreshToken }));\n      dispatch(setIsAuth(true));\n      await dispatch(fetchUserProfile());\n    }\n\n    dispatch({\n      type: LOAD_INITIAL_APP_DATA,\n    });\n  }\n}\n","import thunk from 'redux-thunk';\nimport { combineReducers, applyMiddleware, createStore as reduxCreateStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// store modules names are equal to modules directories names and reducer file must be named as reducer.js\nconst createStore = async () => {\n  const modules = {};\n  const moduleImports = [];\n\n  const requireModule = require.context('.', true, /\\.js$/);\n  const paths = requireModule.keys();\n\n  for (const path of paths) {\n    if (path.includes('reducer.js')) {\n      let moduleName = path.slice(path.indexOf('./') + 2);\n      moduleName = moduleName.slice(0, moduleName.indexOf('/'));\n      const moduleImport = import('./' + moduleName + '/reducer.js').then((module) => {\n        modules[moduleName] = module.reducer;\n      });\n      moduleImports.push(moduleImport);\n    }\n  }\n\n    await Promise.all(moduleImports);\n    const rootReducer = combineReducers(modules);\n    return reduxCreateStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n}\n\nexport default createStore;\n","export default {\n  currentActivity: null,\n  calculatedActivities: [],\n}\n","export default {\n  isInitialDataLoaded: false,\n}\n","export default {\n  days: [],\n  today: null,\n}\n","export default {\n  currentMeal: null,\n}\n","export default {\n  tokens: {\n    accessToken: null,\n    refreshToken: null,\n  },\n  isAuth: false,\n  profile: null,\n  language: null,\n}\n","import activitiesState from './state';\nimport {\n  SET_CURRENT_ACTIVITY,\n  UPDATE_CURRENT_ACTIVITY,\n  CREATE_ACTIVITY,\n  DELETE_ACTIVITY,\n  FETCH_CALCULATED_ACTIVITIES,\n} from './types';\n\nexport const reducer = (state = activitiesState, action) => {\n  switch (action.type) {\n    case SET_CURRENT_ACTIVITY:\n      return {...state, currentActivity: action.payload};\n    case UPDATE_CURRENT_ACTIVITY:\n      return {...state, currentActivity: action.payload};\n    case CREATE_ACTIVITY:\n      return {...state, currentActivity: action.payload};\n    case DELETE_ACTIVITY:\n      return {...state, currentActivity: null};\n    case FETCH_CALCULATED_ACTIVITIES:\n      return {...state, calculatedActivities: action.payload};\n    default:\n      return state;\n  }\n}\n","import appState from './state';\nimport {\n  LOAD_INITIAL_APP_DATA,\n} from './types';\n\nexport const reducer = (state = appState, action) => {\n  switch (action.type) {\n    case LOAD_INITIAL_APP_DATA:\n      return {...state, isInitialDataLoaded: true};\n    default:\n      return state;\n  }\n}\n","import daysState from './state';\nimport {\n  FETCH_DAYS,\n  SET_TODAY,\n  UPDATE_TODAY\n} from './types';\n\nexport const reducer = (state = daysState, action) => {\n  switch (action.type) {\n    case FETCH_DAYS:\n      return {...state, days: action.payload};\n    case SET_TODAY:\n      return {...state, today: action.payload};\n    case UPDATE_TODAY:\n      return {...state, today: action.payload};\n    default:\n      return state;\n  }\n}\n","import mealsState from './state';\nimport {\n  SET_CURRENT_MEAL,\n  UPDATE_CURRENT_MEAL,\n  CREATE_MEAL,\n  DELETE_MEAL,\n} from './types';\n\nexport const reducer = (state = mealsState, action) => {\n  switch (action.type) {\n    case SET_CURRENT_MEAL:\n      return {...state, currentMeal: action.payload};\n    case UPDATE_CURRENT_MEAL:\n      return {...state, currentMeal: action.payload};\n    case CREATE_MEAL:\n      return {...state, currentMeal: action.payload};\n    case DELETE_MEAL:\n      return {...state, currentMeal: null};\n    default:\n      return state;\n  }\n}\n","import {\n  SET_LANGUAGE,\n  REGISTER_USER,\n  GET_PROFILE,\n  LOGIN_USER,\n  CREATE_PROFILE,\n  SET_IS_AUTH,\n  SET_TOKENS,\n} from './types';\nimport userState from './state';\n\nexport const reducer = (state = userState, action) => {\n  switch (action.type) {\n    case REGISTER_USER:\n      return {...state, tokens: action.payload, isAuth: true};\n    case LOGIN_USER:\n      return {...state, tokens: action.payload, isAuth: true};\n    case GET_PROFILE:\n      return {...state, profile: action.payload};\n    case CREATE_PROFILE:\n      return {...state, profile: action.payload};\n    case SET_LANGUAGE:\n      return {...state, language: action.payload};\n    case SET_IS_AUTH:\n      return {...state, isAuth: action.payload};\n    case SET_TOKENS:\n      return {...state, tokens: action.payload};\n    default:\n      return state;\n  }\n}\n","export const LOGIN_URL = '/auth/login';\nexport const LOGOUT_URL = '/auth/logout';\nexport const REGISTER_URL = '/auth/register';\nexport const REFRESH_URL = '/auth/refresh';\nexport const CREATE_PROFILE_URL = '/users';\nexport const GET_USER_PROFILE_URL = '/users';\nexport const GET_DAYS_URL = '/days';\nexport const CREATE_TODAY_URL = '/days/today';\nexport const UPDATE_DAY_URL = '/days/:id';\nexport const CREATE_MEAL_URL = '/meals';\nexport const UPDATE_MEAL_URL = '/meals/:id';\nexport const DELETE_MEAL_URL = '/meals/:id';\nexport const GET_CALCULATED_ACTIVITIES_URL = '/activities';\nexport const CREATE_ACTIVITY_URL = '/daily-activities';\nexport const UPDATE_ACTIVITY_URL = '/daily-activities/:id';\nexport const DELETE_ACTIVITY_URL = '/daily-activities/:id';\n","export default {\n  api: {\n    urls: {\n      baseUrl: process.env.REACT_APP_API_BASE_URL || 'http://localhost:3050',\n    },\n  },\n  language: {\n    default: 'ru',\n  },\n  app: {\n    numberMask: '999',\n  }\n};\n","import axios from 'axios';\nimport config from '../config';\nimport { LOGIN_URL, REGISTER_URL, REFRESH_URL } from './urls';\nimport setAccessTokens from '../helpers/setAccessTokens';\n\nexport class Api {\n  static instance = null;\n\n  static get $instance() {\n    if (!Api.instance) {\n      Api.instance = new Api();\n    }\n\n    return Api.instance;\n  }\n\n  client = null;\n  language = config.language.default;\n  headers = {};\n  excludeRefreshUrls = [\n    LOGIN_URL, REGISTER_URL,\n  ]\n\n  setLanguage(language) {\n    this.language = language;\n  }\n\n  setHeader(header, value) {\n    this.headers[header] = value;\n    this.client = null;\n\n    return Api.$instance;\n  }\n\n  removeHeader(header) {\n    delete this.headers[header];\n    this.client = null;\n\n    return Api.$instance;\n  }\n\n  async get(url, config) {\n    // const fullConfig = this.createFullConfig(config);\n    this.initClient();\n\n    try {\n      const res = await this.client.get(url, config);\n\n      return res.data;\n    } catch (e) {\n      if (e.response) {\n        return this.errorHandler(e.response, 'get', url, config);\n      }\n    }\n  }\n\n  async post(url, credentials = {}, config) {\n    // const fullConfig = this.createFullConfig(config);\n    this.initClient();\n\n    try {\n      const res = await this.client.post(url, credentials, config);\n      return res.data;\n    } catch (e) {\n      if (e.response) {\n        return this.errorHandler(e.response, 'post', url, config);\n      }\n    }\n  }\n\n  async put(url, credentials = {}, config) {\n    // const fullConfig = this.createFullConfig(config);\n    this.initClient();\n\n    try {\n      const res = await this.client.put(url, credentials, config);\n\n      return res.data;\n    } catch (e) {\n      if (e.response) {\n        return this.errorHandler(e.response, 'put', url, config);\n      }\n    }\n  }\n\n  async delete(url, config) {\n    // const fullConfig = this.createFullConfig(config);\n    this.initClient();\n\n    try {\n      const res = await this.client.delete(url, config);\n\n      return res.data;\n    } catch (e) {\n      if (e.response) {\n        return this.errorHandler(e.response, 'delete', url, config);\n      }\n    }\n  }\n\n  async errorHandler(e, method, url, config) {\n    switch (e.status) {\n      case 401:\n        return await this.handle401Error(e, method, url, config);\n      default:\n        return e;\n    }\n  }\n\n  async handle401Error(e, method, url, config) {\n    if (this.excludeRefreshUrls.includes(url)) {\n      return e;\n    }\n\n    const refreshToken = localStorage.getItem('refreshToken');\n    if (!refreshToken) {\n      return e;\n    }\n\n    this.excludeRefreshUrls.push(url);\n\n    try {\n      const refreshRes = await this.post(REFRESH_URL, { refreshToken });\n      setAccessTokens(refreshRes.data.accessToken, refreshRes.data.refreshToken);\n      const res = await this[method](url, config);\n      this.excludeRefreshUrls.pop();\n\n      return res;\n    } catch (e) {\n      this.excludeRefreshUrls.pop();\n      return e.response;\n    }\n  }\n\n  initClient() {\n    if (!this.client) {\n      this.client = axios.create({\n        baseURL: config.api.urls.baseUrl,\n        headers: this.headers,\n      });\n    }\n\n    return this.client;\n  }\n\n  createFullConfig(config) {\n    const language = {\n      'language': this.language,\n    };\n\n    if (!config) {\n      return {\n        params: { ...language },\n      }\n    }\n\n    config.params = {...config.params, ...language};\n\n    return config;\n  }\n}\n","var map = {\n\t\"./activities/actions.js\": 107,\n\t\"./activities/reducer.js\": 243,\n\t\"./activities/state.js\": 209,\n\t\"./activities/types.js\": 61,\n\t\"./app/actions.js\": 207,\n\t\"./app/reducer.js\": 244,\n\t\"./app/state.js\": 210,\n\t\"./app/types.js\": 153,\n\t\"./days/actions.js\": 114,\n\t\"./days/reducer.js\": 245,\n\t\"./days/state.js\": 211,\n\t\"./days/types.js\": 81,\n\t\"./index.js\": 208,\n\t\"./meals/actions.js\": 154,\n\t\"./meals/reducer.js\": 246,\n\t\"./meals/state.js\": 212,\n\t\"./meals/types.js\": 77,\n\t\"./user/actions.js\": 47,\n\t\"./user/reducer.js\": 247,\n\t\"./user/state.js\": 213,\n\t\"./user/types.js\": 38\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 332;","var map = {\n\t\"./activities/reducer.js\": 243,\n\t\"./app/reducer.js\": 244,\n\t\"./days/reducer.js\": 245,\n\t\"./meals/reducer.js\": 246,\n\t\"./user/reducer.js\": 247\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 333;\nmodule.exports = webpackAsyncContext;","export default {\n  home: '/',\n  notFound: '/not-found',\n  login: '/login',\n  register: '/register',\n  createProfile: '/create-profile',\n  allDays: '/all-days',\n  profile: '/profile',\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport routes from '../navigation/routes';\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.user.profile\n  }\n}\n\nconst requireRegistrationCompletion = ChildComponent => {\n  class ComposedComponent extends React.Component {\n    componentDidMount() {\n      this.shouldNavigateAway();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n      this.shouldNavigateAway();\n    }\n\n    shouldNavigateAway() {\n      if (!this.props.profile || !this.props.profile.isRegistrationComplete) {\n        this.props.history.push(routes.createProfile);\n      }\n    }\n    render() {\n      return <ChildComponent {...this.props} />\n    }\n  }\n\n  return connect(mapStateToProps, null)(ComposedComponent);;\n}\n\nexport default requireRegistrationCompletion;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport routes from '../navigation/routes';\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.user.isAuth,\n  }\n}\n\nconst requireAuth = ChildComponent => {\n  class ComposedComponent extends React.Component {\n    componentDidMount() {\n      this.shouldNavigateAway();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n      this.shouldNavigateAway();\n    }\n\n    shouldNavigateAway() {\n      if (!this.props.auth) {\n        this.props.history.push(routes.login);\n      }\n    }\n\n    render() {\n      return <ChildComponent {...this.props} />\n    }\n  }\n\n  return connect(mapStateToProps, null)(ComposedComponent);;\n}\n\nexport default requireAuth;\n","import React from 'react';\n\nclass Loader extends React.Component {\n  render() {\n    const size = this.props.size || 'small'\n    return (\n      <div className={`ui active inline loader ${size}`}/>\n    );\n  }\n}\n\nexport default Loader;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport routes from '../navigation/routes';\nimport { logoutUser } from '../../store/user/actions';\n\nconst headerNavItems = [\n  {\n    text: 'Сегодня',\n    to: routes.home,\n  },\n  {\n    text: 'Все дни',\n    to: routes.allDays,\n  },\n  {\n    text: 'Профиль',\n    to: routes.profile,\n  },\n];\n\nclass Header extends React.Component {\n  logoutUser() {\n\n  }\n\n  renderNavMenu() {\n    return headerNavItems.map((item) => {\n      return (\n        <NavLink\n          key={item.text}\n          to={item.to}\n          className=\"item\"\n          activeClassName=\"active\"\n        >\n          { item.text }\n        </NavLink>\n      );\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"ui stackable menu\">\n        { this.renderNavMenu() }\n\n        <div className=\"right menu\">\n          <a\n            className=\"ui item\"\n            onClick={this.props.logoutUser}\n          >\n            Выйти\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  logoutUser,\n}\n\nexport default connect(null, mapDispatchToProps)(Header);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nclass AverageStats extends React.Component {\n  render() {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <div className=\"ui secondary pointing menu\">\n        <span className=\"item\">\n          Средний вес: <b className=\"pl-5\">{this.props.stats.averageWeight}  кг</b>\n        </span>\n        <span className=\"item\">\n          Среднее потребление ккал/день: <b className=\"pl-5\">{this.props.stats.averageCaloriesPerDay} ккал</b>\n        </span>\n        <span className=\"item\">\n          Средняя продолжительность физ.активность/день: <b className=\"pl-5\">{this.props.stats.averageActivityPerDay} минут</b>\n        </span>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    stats: state.user.profile ? state.user.profile.stats : null,\n  };\n}\n\nconst mapDispatchToProps = {\n\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AverageStats);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { updateToday, createToday } from '../../store/days/actions';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\nimport NumberFormat from 'react-number-format';\n\n// TODO: close editWeight input on click outside\nclass TodayStats extends React.Component {\n\n  state = {\n    weightEditEnabled: false,\n    editableWeight: '',\n  }\n\n  enableWeightEdit = () => {\n    this.setState({...this.state, weightEditEnabled: true});\n  }\n\n  onWeightInputChange = (e) => {\n    this.setState({...this.state, editableWeight: e.target.value});\n  }\n\n  onEditWeightSubmit = async (e) => {\n    e.preventDefault();\n    if (!this.props.today) {\n      const createTodayRes = await this.props.createToday();\n      if (createTodayRes.status) {\n        toast(\n          {\n            type: 'error',\n            title: 'Печалька...',\n            description: createTodayRes.data.error.message,\n            time: 5000,\n          }\n        );\n\n        return;\n      }\n    }\n    const res = await this.props.updateToday({weight: this.state.editableWeight}, this.props.today._id);\n    if (!res.status) {\n      this.setState({...this.state, weightEditEnabled: false});\n    }\n  }\n\n  render() {\n    const weight = (this.props.today && this.props.today.weight) ? this.props.today.weight : '?';\n    const caloriesLeft = (this.props.today && this.props.today.caloriesLeft) ? this.props.today.caloriesLeft : (this.props.profile && this.props.profile.caloriesPerDay ) ? this.props.profile.caloriesPerDay : '-';\n    const activity = (this.props.today && this.props.today.dailyActivity) ? this.props.today.dailyActivity : '0';\n\n    return (\n      <div className=\"ui secondary pointing menu\">\n        <SemanticToastContainer position=\"top-right\" />\n\n        <span className=\"item\" onClick={this.enableWeightEdit}>\n          Вес сегодня:\n          { this.state.weightEditEnabled ? (\n            <form onSubmit={this.onEditWeightSubmit}>\n              <NumberFormat\n                className=\"d-inline-block ml-5\"\n                type=\"tel\"\n                onChange={this.onWeightInputChange}\n                value={this.state.editableWeight}\n                placeholder=\"55\"\n                decimalScale={1}\n              />\n            </form>\n          ) : (\n            <>\n              <b className=\"pl-5\">{ weight } кг</b>\n              <i className=\"icon edit pl-10 cursor-pointer\" />\n            </>\n          )}\n        </span>\n        <span className=\"item\">\n          Осталось ккал сегодня: <b className=\"pl-5\">{ caloriesLeft } ккал</b>\n        </span>\n        <span className=\"item\">\n          Физ. активность сегодня: <b className=\"pl-5\">{ activity } минут</b>\n        </span>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    today: state.days.today,\n    profile: state.user.profile,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateToday,\n  createToday,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TodayStats);\n","import React from 'react';\n// TODO: add closing on click outside\nclass AddDropdownButton extends React.Component {\n  state = {\n    isOptionsVisible: false,\n  }\n\n  toggleOptions = () => {\n    this.setState({...this.state, isOptionsVisible: !this.state.isOptionsVisible});\n  }\n\n  render() {\n    return (\n      <div\n        className=\"ui teal buttons fixed-right\"\n        onClick={this.toggleOptions}\n      >\n        <div className=\"ui button\">Добавить</div>\n        <div className={`ui floating dropdown icon button ${this.state.isOptionsVisible ? 'visible' : ''}`}>\n          <i className=\"dropdown icon\"></i>\n          <div className={`menu ${this.state.isOptionsVisible ? 'transition visible' : ''}`}>\n            <div className=\"item\" onClick={this.props.onAddMealClick}>\n              <i className=\"utensils icon\"></i>\n              Прием пищи\n            </div>\n            <div className=\"item\" onClick={this.props.onAddActivityClick}>\n              <i className=\"hand rock icon\">\n\n            </i>Физическую активность</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddDropdownButton;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\n\nconst customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)'\n  }\n};\n\nModal.setAppElement('#modal');\n\nclass ModalBox extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-box-wrapper\">\n        <Modal\n          isOpen={this.props.modalIsOpen}\n          onRequestClose={this.props.closeModal}\n          style={customStyles}\n        >\n          <div className=\"modal-box\">\n            { this.props.children }\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<ModalBox />, document.getElementById('modal'));\n\nexport default ModalBox;\n\n","import React from 'react';\nimport { Formik } from 'formik';\n\nclass Form extends React.Component {\n  render() {\n    return (\n      <Formik\n        initialValues={this.props.initialValues}\n        onSubmit={this.props.onSubmit}\n        validate={this.props.validate}\n      >\n        {this.props.children}\n      </Formik>\n    );\n  }\n}\n\nexport default Form;\n","const createMealValidations = values => {\n  const errors = {};\n\n  if (!values.calories) {\n    errors.calories = 'Обязательное поле';\n  }\n\n  return errors;\n}\n\nexport default createMealValidations;\n","import React from 'react';\nimport { Field } from \"formik\";\nimport InputMask from 'react-input-mask';\nimport ModalBox from './ModalBox';\nimport Form from '../forms/Form';\nimport createMealValidations from '../../helpers/validations/createMealValidations';\n\nclass MealModal extends React.Component {\n  state = {\n    initialValues: {\n      nutriment: (this.props.meal && this.props.meal.nutriment) ? this.props.meal.nutriment : '',\n      calories: (this.props.meal && this.props.meal.calories) ? this.props.meal.calories : '',\n      weight: (this.props.meal && this.props.meal.weight) ? this.props.meal.weight : '',\n    },\n    serverErrors: {},\n    generalError: '',\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.meal !== prevProps.meal) {\n      this.setState({...this.state, initialValues: {\n          nutriment: (this.props.meal && this.props.meal.nutriment) ? this.props.meal.nutriment : '',\n          calories: (this.props.meal && this.props.meal.calories) ? this.props.meal.calories : '',\n          weight: (this.props.meal && this.props.meal.weight) ? this.props.meal.weight : '',\n        }});\n    }\n  }\n\n  handleFocus = (e) => {\n    let newState = JSON.stringify(this.state);\n    newState = JSON.parse(newState);\n    delete newState.serverErrors[e.target.name];\n    this.setState(newState);\n  }\n\n  onSubmit = async (values, { setSubmitting }) => {\n    this.setState({...this.state, serverErrors: {}, generalError: ''});\n\n    // let res;\n    // if (this.props.meal) {\n    //\n    // }\n\n    const res = this.props.meal ? await this.props.updateMeal(values, this.props.meal._id) : await this.props.createMeal(values);\n    if (!res.status) {\n      this.props.closeModal();\n      return;\n    }\n\n    if (res.data.errors && res.data.errors.length) {\n      res.data.errors.forEach((error) => {\n        this.state.serverErrors[error.param] = error.msg;\n      });\n      setSubmitting(false);\n\n      return;\n    }\n\n    this.setState({...this.state, generalError: res.data.error.message})\n    setSubmitting(false);\n  }\n\n  render() {\n    return (\n      <ModalBox\n        modalIsOpen={this.props.modalIsOpen}\n        closeModal={this.props.closeModal}\n      >\n        <div className=\"modal-box-header\">\n          <div className=\"modal-box-header-content\">\n            Прием пищи\n          </div>\n          <i\n            onClick={this.props.closeModal}\n            className=\"close icon modal-box-close-btn\"\n          />\n        </div>\n\n        <div className=\"modal-box-content\">\n          <div className=\"modal-box-content-inner\">\n            <Form\n              initialValues={this.state.initialValues}\n              onSubmit={this.onSubmit}\n              validate={createMealValidations}\n            >\n              {({\n                  values,\n                  errors,\n                  touched,\n                  handleChange,\n                  handleBlur,\n                  handleSubmit,\n                  isSubmitting,\n                }) => {\n                errors = {...errors, ...this.state.serverErrors}\n                return (\n                  <form onSubmit={handleSubmit} noValidate={true}>\n                    <div className={ (touched.nutriment && errors.nutriment) ? 'ui input w-100 error' : 'ui input w-100'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"nutriment\"\n                      >\n                        Еда\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"nutriment\"\n                        onFocus={this.handleFocus}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.nutriment}\n                        placeholder=\"Котлетка\"\n                        className=\"d-block w-100\"\n                        id=\"nutriment\"\n                      />\n                      {touched.nutriment && errors.nutriment && (\n                        <div className=\"mt-5 error-msg\">\n                          { errors.nutriment }\n                        </div>\n                      )}\n                    </div>\n\n                    <div className={ (touched.weight && errors.weight) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"weight\"\n                      >\n                        Вес\n                      </label>\n                      <Field\n                        name=\"weight\"\n                      >\n                        {({ field }) => {\n                          return (\n                            <InputMask\n                              {...field}\n                              maskChar={null}\n                              mask=\"999\"\n                              type=\"phone\"\n                              onFocus={this.handleFocus}\n                              onChange={handleChange}\n                              onBlur={handleBlur}\n                              value={values.weight}\n                              placeholder=\"200\"\n                              className=\"d-block w-100\"\n                              id=\"weight\"\n                            />\n                          );\n                        }}\n                      </Field>\n                      {touched.weight && errors.weight && (\n                        <div className=\"mt-5 error-msg\">\n                          { errors.weight }\n                        </div>\n                      )}\n                    </div>\n\n                    <div className={ (touched.calories && errors.calories) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"calories\"\n                      >\n                        Калории\n                      </label>\n                      <Field\n                        name=\"calories\"\n                      >\n                        {({ field }) => {\n                          return (\n                            <InputMask\n                              {...field}\n                              maskChar={null}\n                              mask=\"99999\"\n                              type=\"phone\"\n                              onFocus={this.handleFocus}\n                              onChange={handleChange}\n                              onBlur={handleBlur}\n                              value={values.calories}\n                              placeholder=\"345\"\n                              className=\"d-block w-100\"\n                              id=\"calories\"\n                            />\n                          );\n                        }}\n                      </Field>\n                      {touched.calories && errors.calories && (\n                        <div className=\"mt-5 error-msg\">\n                          { errors.calories }\n                        </div>\n                      )}\n                    </div>\n\n                    <button\n                      className=\"ui primary button mt-30 w-100\"\n                      type=\"submit\"\n                      disabled={isSubmitting || Object.keys(errors).length > 0}\n                    >\n                      Сохранить\n                    </button>\n                    {this.state.generalError && (\n                      <div className=\"mt-10 error-msg\">\n                        { this.state.generalError }\n                      </div>\n                    )}\n                  </form>\n                )\n              }}\n            </Form>\n          </div>\n        </div>\n      </ModalBox>\n    );\n  }\n}\n\nexport default MealModal;\n","import React from 'react';\n\nclass MealsTable extends React.Component {\n  renderCells() {\n    return this.props.meals.map((meal) => {\n      return (\n        <tr key={meal._id}>\n          <td>\n            { meal.nutriment || '-' }\n          </td>\n          <td>\n            { meal.weight || '-' }\n          </td>\n          <td>\n            { meal.calories }\n            <div className=\"table-controls\">\n              <i\n                className=\"edit icon cursor-pointer\"\n                onClick={() => {\n                  this.props.onEditClick(meal._id);\n                }}\n              />\n              <i\n                className=\"close icon cursor-pointer\"\n                onClick={() => {\n                  this.props.onDeleteClick(meal._id);\n                }}\n              />\n            </div>\n          </td>\n        </tr>\n      );\n    });\n  }\n  render() {\n    return (\n      <table className=\"ui celled striped table\">\n        <thead>\n          <tr>\n            <th colSpan=\"3\">\n              Приемы пищи\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              Еда\n            </td>\n            <td>Вес</td>\n            <td>Калории</td>\n          </tr>\n          { this.renderCells() }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default MealsTable;\n","import React from 'react';\n\nclass ActivitiesTable extends React.Component {\n  renderCells() {\n    return this.props.activities.map((activity) => {\n      return (\n        <tr key={activity._id}>\n          <td>\n            { activity.name || '-' }\n          </td>\n          <td>\n            { activity.duration || '-' }\n          </td>\n          <td>\n            { activity.calories }\n            <div className=\"table-controls\">\n              <i\n                className=\"edit icon cursor-pointer\"\n                onClick={() => {\n                  this.props.onEditClick(activity._id);\n                }}\n              />\n              <i\n                className=\"close icon cursor-pointer\"\n                onClick={() => {\n                  this.props.onDeleteClick(activity._id);\n                }}\n              />\n            </div>\n          </td>\n        </tr>\n      );\n    });\n  }\n  render() {\n    return (\n      <table className=\"ui celled striped table\">\n        <thead>\n          <tr>\n            <th colSpan=\"3\">\n              Физические активности\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              Название\n            </td>\n            <td>\n              Продолжительность (минуты)\n            </td>\n            <td>\n              Потраченные калории\n            </td>\n          </tr>\n          { this.renderCells() }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default ActivitiesTable;\n","const createActivityValidations = values => {\n  const errors = {};\n\n  if (!values.calories) {\n    errors.calories = 'Обязательное поле';\n  }\n\n  if (!values.duration) {\n    errors.duration = 'Обязательное поле';\n  }\n\n  return errors;\n}\n\nexport default createActivityValidations;\n","import React from 'react';\nimport { Field } from 'formik';\nimport { connect } from 'react-redux';\nimport InputMask from 'react-input-mask';\nimport ModalBox from './ModalBox';\nimport Form from '../forms/Form';\nimport NumberFormat from 'react-number-format';\nimport createActivityValidations from '../../helpers/validations/createActivityValidations';\nimport { fetchCalculatedActivities } from '../../store/activities/actions';\nimport { Dropdown } from 'semantic-ui-react';\n\nclass ActivityModal extends React.Component {\n  state = {\n    initialValues: {\n      name: (this.props.activity && this.props.activity.name) ? this.props.activity.name : '',\n      calories: (this.props.activity && this.props.activity.calories) ? this.props.activity.calories : '',\n      duration: (this.props.activity && this.props.activity.duration) ? this.props.activity.duration : '',\n    },\n    serverErrors: {},\n    generalError: '',\n    activitiesOptions: this.createActivitiesOptions(),\n    selectedOption: null,\n  };\n\n  createActivitiesOptions() {\n    return this.props.calculatedActivities.map((activity) => {\n      return {\n        key: activity._id,\n        value: activity._id,\n        text: activity.name,\n      }\n    });\n  }\n\n  async componentDidMount() {\n    if (!this.props.calculatedActivities.length) {\n      await this.props.fetchCalculatedActivities();\n      this.setState({...this.state, activitiesOptions: this.createActivitiesOptions()});\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.activity !== prevProps.activity) {\n      this.setState({...this.state, initialValues: {\n          name: (this.props.activity && this.props.activity.name) ? this.props.activity.name : '',\n          calories: (this.props.activity && this.props.activity.calories) ? this.props.activity.calories : '',\n          duration: (this.props.activity && this.props.activity.duration) ? this.props.activity.duration : '',\n        }});\n    }\n  }\n\n  handleFocus = (e) => {\n    let newState = JSON.stringify(this.state);\n    newState = JSON.parse(newState);\n    delete newState.serverErrors[e.target.name];\n    this.setState(newState);\n  }\n\n  onSubmit = async (values, { setSubmitting }) => {\n    this.setState({...this.state, serverErrors: {}, generalError: ''});\n\n    const res = this.props.activity ? await this.props.updateActivity(values, this.props.activity._id) : await this.props.createActivity(values);\n    if (!res.status) {\n      this.props.closeModal();\n      return;\n    }\n\n    if (res.data.errors && res.data.errors.length) {\n      res.data.errors.forEach((error) => {\n        this.state.serverErrors[error.param] = error.msg;\n      });\n      setSubmitting(false);\n\n      return;\n    }\n\n    this.setState({...this.state, generalError: res.data.error.message})\n    setSubmitting(false);\n  }\n\n  handleActivityNameChange = (e, handleChange, setFieldValue) => {\n    const name = e.target.value;\n    setFieldValue('name', name);\n\n    this.setState({...this.state, selectedOption: null});\n  }\n\n  handleActivityNameDropdownSelect = (e, selectedOption, handleChange, setFieldValue) => {\n    const id = selectedOption.value;\n\n    let selectedActivity = this.props.calculatedActivities.find((activity) => {\n      return activity._id === id;\n    });\n\n    setFieldValue('name', selectedActivity.name);\n    setFieldValue('calories', selectedActivity.caloriesPerMin);\n    setFieldValue('duration', 1);\n    this.setState({...this.state, selectedOption: selectedActivity});\n  }\n\n  handleDurationChange = (e, handleChange, setFieldValue) => {\n    const duration = e.target.value;\n    setFieldValue('duration', duration);\n\n    if (this.state.selectedOption) {\n      const weight = this.props.profile.stats.averageWeight || this.props.profile.weight;\n      const calories = Math.floor(this.state.selectedOption.caloriesPerMin * weight * duration);\n      setFieldValue('calories', calories);\n    }\n  }\n\n  render() {\n    return (\n      <ModalBox\n        modalIsOpen={this.props.modalIsOpen}\n        closeModal={this.props.closeModal}\n      >\n        <div className=\"modal-box-header\">\n          <div className=\"modal-box-header-content\">\n            Физическая активность\n          </div>\n          <i\n            onClick={this.props.closeModal}\n            className=\"close icon modal-box-close-btn\"\n          />\n        </div>\n\n        <div className=\"modal-box-content\">\n          <div className=\"modal-box-content-inner\">\n            <Form\n              initialValues={this.state.initialValues}\n              onSubmit={this.onSubmit}\n              validate={createActivityValidations}\n            >\n              {({\n                  values,\n                  errors,\n                  touched,\n                  handleChange,\n                  handleBlur,\n                  handleSubmit,\n                  isSubmitting,\n                  setFieldValue,\n                }) => {\n                errors = {...errors, ...this.state.serverErrors}\n\n                return (\n                  <form onSubmit={handleSubmit} noValidate={true}>\n                    <div className={ (touched.name && errors.name) ? 'ui input w-100 error' : 'ui input w-100'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"name\"\n                      >\n                        Активность\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        onFocus={this.handleFocus}\n                        onChange={(e) => {\n                          this.handleActivityNameChange(e, handleChange, setFieldValue);\n                        }}\n                        onBlur={handleBlur}\n                        value={values.name}\n                        className=\"d-block w-100\"\n                        id=\"name\"\n                        placeholder=\"Копал картошку\"\n                      />\n                      <Dropdown\n                        fluid\n                        search\n                        selection\n                        options={this.state.activitiesOptions}\n                        placeholder={values.name}\n                        noResultsMessage='Не удалось найти активности ;('\n                        onChange={(e, selectedOption) => {\n                          this.handleActivityNameDropdownSelect(e, selectedOption, handleChange, setFieldValue);\n                        }}\n                        value={values.name}\n                        className=\"mt-5\"\n                      />\n                      {touched.name && errors.name && (\n                        <div className=\"mt-5 error-msg d-block\">\n                          { errors.name }\n                        </div>\n                      )}\n                    </div>\n\n                    <div className={ (touched.duration && errors.duration) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"duration\"\n                      >\n                        Продолжительность (мин)\n                      </label>\n                      <Field\n                        name=\"duration\"\n                      >\n                        {({ field }) => {\n                          return (\n                            <InputMask\n                              {...field}\n                              maskChar={null}\n                              mask=\"999\"\n                              type=\"phone\"\n                              onFocus={this.handleFocus}\n                              onChange={(e) => {\n                                this.handleDurationChange(e, handleChange, setFieldValue);\n                              }}\n                              onBlur={handleBlur}\n                              value={values.duration}\n                              placeholder=\"40\"\n                              className=\"d-block w-100\"\n                              id=\"duration\"\n                            />\n                          );\n                        }}\n                      </Field>\n                      {touched.duration && errors.duration && (\n                        <div className=\"mt-5 error-msg d-block\">\n                          { errors.duration }\n                        </div>\n                      )}\n                    </div>\n\n                    <div className={ (touched.calories && errors.calories) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                      <label\n                        className=\"w-100\"\n                        htmlFor=\"calories\"\n                      >\n                        Калории\n                      </label>\n                      <Field\n                        name=\"calories\"\n                      >\n                        {({ field }) => {\n                          return (\n                          <NumberFormat\n                            {...field}\n                            className=\"d-block w-100\"\n                            type=\"tel\"\n                            onFocus={this.handleFocus}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                            value={values.calories}\n                            placeholder=\"345\"\n                            placeholder=\"55\"\n                          />\n                          );\n                        }}\n                      </Field>\n                      {touched.calories && errors.calories && (\n                        <div className=\"mt-5 error-msg d-block\">\n                          { errors.calories }\n                        </div>\n                      )}\n                    </div>\n\n                    <button\n                      className=\"ui primary button mt-30 w-100\"\n                      type=\"submit\"\n                      disabled={isSubmitting || Object.keys(errors).length > 0}\n                    >\n                      Сохранить\n                    </button>\n                    {this.state.generalError && (\n                      <div className=\"mt-10 error-msg\">\n                        { this.state.generalError }\n                      </div>\n                    )}\n                  </form>\n                )\n              }}\n            </Form>\n          </div>\n        </div>\n      </ModalBox>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    calculatedActivities: state.activities.calculatedActivities,\n    profile: state.user.profile,\n  };\n}\n\nconst mapDispatchToProps = {\n  fetchCalculatedActivities,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityModal);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchDays } from '../../store/days/actions';\nimport { createMeal, updateMeal, deleteMeal } from '../../store/meals/actions';\nimport { createActivity, updateActivity, deleteActivity } from '../../store/activities/actions';\nimport requireRegistrationCompletion from '../HOC/requireRegistrationCompletion';\nimport requireAuth from '../HOC/requireAuth';\nimport Loader from '../shared/Loader';\nimport Header from '../shared/Header';\nimport AverageStats from '../shared/AverageStats';\nimport TodayStats from '../shared/TodayStats';\nimport AddDropdownButton from '../shared/AddDropdownButton';\nimport routes from '../navigation/routes';\nimport ModalBox from '../modals/ModalBox';\nimport MealModal from '../modals/MealModal';\nimport MealsTable from '../shared/MealsTable';\nimport ActivitiesTable from '../shared/ActivitiesTable';\nimport ActivityModal from '../modals/ActivityModal';\n\nclass Home extends React.Component {\n  state = {\n    mealModalIsOpen: false,\n    activityModalIsOpen: false,\n    currentActivity: null,\n    currentMeal: null,\n  };\n\n  componentDidMount() {\n    this.props.fetchDays();\n  }\n\n  closeMealModal = () => {\n    this.setState({...this.state, mealModalIsOpen: false});\n  }\n\n  openCreateMealModal = () => {\n    this.setState({...this.state, mealModalIsOpen: true});\n  }\n\n  openEditMealModal = (mealId) => {\n    const currentMeal = this.props.today.meals.find((meal) => {\n      return meal._id === mealId;\n    });\n\n    if (!currentMeal) {\n      return;\n    }\n\n    this.setState({...this.state, currentMeal}, () => {\n      this.setState({...this.state, mealModalIsOpen: true});\n    });\n  }\n\n  createMeal = async (values) => {\n    const res = await this.props.createMeal(values);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  updateMeal = async (values, id) => {\n    const res = await this.props.updateMeal(values, id);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  deleteMeal = async (id) => {\n    const res = await this.props.deleteMeal(id);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  closeActivityModal = () => {\n    this.setState({...this.state, activityModalIsOpen: false});\n  }\n\n  openCreateActivityModal = () => {\n    this.setState({...this.state, activityModalIsOpen: true});\n  }\n\n  openEditActivityModal = (activityId) => {\n    const currentActivity = this.props.today.dailyActivities.find((activity) => {\n      return activity._id === activityId;\n    });\n\n    if (!currentActivity) {\n      return;\n    }\n\n    this.setState({...this.state, currentActivity}, () => {\n      this.setState({...this.state, activityModalIsOpen: true});\n    });\n  }\n\n  createActivity = async (values) => {\n    const res = await this.props.createActivity(values);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  updateActivity = async (values, id) => {\n    const res = await this.props.updateActivity(values, id);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  deleteActivity = async (id) => {\n    const res = await this.props.deleteActivity(id);\n\n    await this.props.fetchDays();\n\n    return res;\n  }\n\n  render() {\n    return (\n      <>\n        <MealModal\n          modalIsOpen={this.state.mealModalIsOpen}\n          closeModal={this.closeMealModal}\n          createMeal={this.createMeal}\n          updateMeal={this.updateMeal}\n          meal={this.state.currentMeal}\n        />\n\n        <ActivityModal\n          modalIsOpen={this.state.activityModalIsOpen}\n          closeModal={this.closeActivityModal}\n          createActivity={this.createActivity}\n          updateActivity={this.updateActivity}\n          activity={this.state.currentActivity}\n        />\n\n        <Header activeLink={routes.home} />\n        <AverageStats />\n        {this.props.days.length < 0 ? (\n          <div className=\"full-page-content-centered\">\n            <Loader size=\"massive\" />\n          </div>\n        ) : (\n          <>\n            <TodayStats />\n\n            <MealsTable\n              onEditClick={this.openEditMealModal}\n              onDeleteClick={this.deleteMeal}\n              meals={this.props.today && this.props.today.meals ? this.props.today.meals : []}\n            />\n            <ActivitiesTable\n              onEditClick={this.openEditActivityModal}\n              onDeleteClick={this.deleteActivity}\n              activities={this.props.today && this.props.today.dailyActivities ? this.props.today.dailyActivities : []}\n            />\n\n            <AddDropdownButton\n              onAddMealClick={this.openCreateMealModal}\n              onAddActivityClick={this.openCreateActivityModal}\n            />\n          </>\n          )\n        }\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    days: state.days.days,\n    today: state.days.today,\n  };\n}\n\nconst mapDispatchToProps = {\n  fetchDays,\n  createMeal,\n  updateMeal,\n  deleteMeal,\n  createActivity,\n  updateActivity,\n  deleteActivity,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(requireRegistrationCompletion(requireAuth(Home)));\n","import { useTranslation } from 'react-i18next';\n\nconst NotFound = () => {\n  const [ t ] = useTranslation('notFoundPage');\n\n  return (\n    <div className=\"content-centered\">\n      <h1>{t('notFound')}</h1>\n\n    </div>\n  );\n}\n\n\nexport default NotFound;\n","import React from 'react';\n\nclass FormCard extends React.Component {\n  render() {\n    return (\n      <div className=\"ui cards\">\n        <div className=\"card\">\n          <div className=\"content\">\n            { this.props.children }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FormCard;\n","const loginValidations = values => {\n  const errors = {};\n\n  if (!values.email) {\n    errors.email = 'Обязательное поле';\n  } else if (\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n  ) {\n    errors.email = 'Неверный формат email';\n  }\n\n  if (!values.password) {\n    errors.password = 'Обязательное поле';\n  } else if (values.password.length < 5) {\n    errors.password = 'Пароль должен содержать минимум 5 символов';\n  }\n\n  return errors;\n}\n\nexport default loginValidations;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { loginUser } from '../../store/user/actions';\nimport FormCard from '../forms/FormCard';\nimport Form from '../forms/Form';\nimport loginValidations from '../../helpers/validations/loginValidations';\nimport routes from '../navigation/routes';\n\nclass Login extends React.Component {\n  state = {\n    initialValues: {\n      email: '',\n      password: '',\n    },\n    serverErrors: {},\n    generalError: '',\n  };\n\n  handleFocus = (e) => {\n    let newState = JSON.stringify(this.state);\n    newState = JSON.parse(newState);\n    delete newState.serverErrors[e.target.name];\n    this.setState(newState);\n  }\n\n  onSubmit = async (values, { setSubmitting }) => {\n    this.setState({...this.state, serverErrors: {}, generalError: ''});\n\n    const res = await this.props.loginUser(values);\n\n    if (!res.status) {\n      this.props.history.push(routes.home);\n\n      return;\n    }\n\n    if (res.data.errors && res.data.errors.length) {\n      res.data.errors.forEach((error) => {\n        this.state.serverErrors[error.param] = error.msg;\n      });\n      setSubmitting(false);\n\n      return;\n    }\n\n    this.setState({...this.state, generalError: res.data.error.message})\n    setSubmitting(false);\n  }\n\n  render() {\n    return (\n      <div className=\"content-centered mt-60-resp\">\n        <FormCard>\n          <Form\n            initialValues={this.state.initialValues}\n            onSubmit={this.onSubmit}\n            validate={loginValidations}\n          >\n            {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n              }) => {\n              errors = {...errors, ...this.state.serverErrors}\n              return (\n                <form onSubmit={handleSubmit} noValidate={true}>\n                  <div className={ (touched.email && errors.email) ? 'ui input w-100 error' : 'ui input w-100'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"email\"\n                    >\n                      Email\n                    </label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.email}\n                      placeholder=\"mail@mail.com\"\n                      className=\"d-block\"\n                      id=\"email\"\n                    />\n                    {touched.email && errors.email && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.email }\n                      </div>\n                    )}\n                  </div>\n                  <div className={ (touched.password && errors.password) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"password\"\n                    >\n                      Пароль\n                    </label>\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.password}\n                      placeholder=\"******\"\n                      className=\"d-block\"\n                      id=\"password\"\n                    />\n                    {touched.password && errors.password && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.password }\n                      </div>\n                    )}\n                  </div>\n                  <button\n                    className=\"ui primary button mt-30 w-100\"\n                    type=\"submit\"\n                    disabled={isSubmitting || Object.keys(errors).length > 0}\n                  >\n                    Войти\n                  </button>\n                  {this.state.generalError && (\n                    <div className=\"mt-10 error-msg\">\n                      { this.state.generalError }\n                    </div>\n                  )}\n                </form>\n              )\n            }}\n          </Form>\n\n          <div className=\"content-centered mt-10\">\n            <Link\n              to={routes.register}\n            >\n              Зарегистрироваться\n            </Link>\n          </div>\n        </FormCard>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  loginUser,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n","const registerValidations = values => {\n  const errors = {};\n\n  if (!values.email) {\n    errors.email = 'Обязательное поле';\n  } else if (\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n  ) {\n    errors.email = 'Неверный формат email';\n  }\n\n  if (!values.password) {\n    errors.password = 'Обязательное поле';\n  } else if (values.password.length < 5) {\n    errors.password = 'Пароль должен содержать минимум 5 символов';\n  }\n\n  if (!values.passwordConfirmation) {\n    errors.passwordConfirmation = 'Обязательное поле';\n  } else if (values.password !== values.passwordConfirmation) {\n    errors.passwordConfirmation = 'Подтверждение пароля и пароль должны совпадать'\n  }\n\n  return errors;\n}\n\nexport default registerValidations;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { registerUser } from '../../store/user/actions';\nimport FormCard from '../forms/FormCard';\nimport Form from '../forms/Form';\nimport registerValidations from '../../helpers/validations/registerValidations';\nimport routes from '../navigation/routes';\n\nclass Register extends React.Component {\n  state = {\n    initialValues: {\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n    },\n    serverErrors: {},\n    generalError: '',\n  };\n\n  handleFocus = (e) => {\n    let newState = JSON.stringify(this.state);\n    newState = JSON.parse(newState);\n    delete newState.serverErrors[e.target.name];\n    this.setState(newState);\n  }\n\n  onSubmit = async (values, { setSubmitting }) => {\n    this.setState({...this.state, serverErrors: {}, generalError: ''});\n\n    const res = await this.props.registerUser(values);\n    if (!res.status) {\n      this.props.history.push(routes.createProfile);\n\n      return;\n    }\n\n    if (res.data.errors && res.data.errors.length) {\n      res.data.errors.forEach((error) => {\n        this.state.serverErrors[error.param] = error.msg;\n      });\n      setSubmitting(false);\n\n      return;\n    }\n\n    this.setState({...this.state, generalError: res.data.error.message})\n    setSubmitting(false);\n  }\n\n  render() {\n    return (\n      <div className=\"content-centered mt-60-resp\">\n        <FormCard>\n          <Form\n            initialValues={this.state.initialValues}\n            onSubmit={this.onSubmit}\n            validate={registerValidations}\n          >\n            {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n              }) => {\n              errors = {...errors, ...this.state.serverErrors}\n              return (\n                <form onSubmit={handleSubmit} noValidate={true}>\n                  <div className={ (touched.email && errors.email) ? 'ui input w-100 error' : 'ui input w-100'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"email\"\n                    >\n                      Email\n                    </label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.email}\n                      placeholder=\"mail@mail.com\"\n                      className=\"d-block\"\n                      id=\"email\"\n                    />\n                    {touched.email && errors.email && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.email }\n                      </div>\n                    )}\n                  </div>\n                  <div className={ (touched.password && errors.password) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"password\"\n                    >\n                      Пароль\n                    </label>\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.password}\n                      placeholder=\"******\"\n                      className=\"d-block\"\n                      id=\"password\"\n                    />\n                    {touched.password && errors.password && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.password }\n                      </div>\n                    )}\n                  </div>\n                  <div className={ (touched.passwordConfirmation && errors.passwordConfirmation) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"passwordConfirmation\"\n                    >\n                      Подтверждение пароля\n                    </label>\n                    <input\n                      type=\"password\"\n                      name=\"passwordConfirmation\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.passwordConfirmation}\n                      placeholder=\"******\"\n                      className=\"d-block\"\n                      id=\"passwordConfirmation\"\n                    />\n                    {touched.passwordConfirmation && errors.passwordConfirmation && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.passwordConfirmation }\n                      </div>\n                    )}\n                  </div>\n                  <button\n                    className=\"ui primary button mt-30 w-100\"\n                    type=\"submit\"\n                    disabled={isSubmitting || Object.keys(errors).length > 0}\n                  >\n                    Зарегистрироваться\n                  </button>\n                  {this.state.generalError && (\n                    <div className=\"mt-10 error-msg\">\n                      { this.state.generalError }\n                    </div>\n                  )}\n                </form>\n              )\n            }}\n          </Form>\n\n          <div className=\"content-centered mt-10\">\n            <Link\n              to={routes.login}\n            >\n              Войти\n            </Link>\n          </div>\n        </FormCard>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  registerUser,\n};\n\nexport default connect(null, mapDispatchToProps)(Register);\n","const createProfileValidations = values => {\n  const errors = {};\n\n  if (!values.username) {\n    errors.username = 'Обязательное поле';\n  }\n\n  if (!values.weight) {\n    errors.weight = 'Обязательное поле';\n  }\n\n  if (!values.caloriesPerDay) {\n    errors.caloriesPerDay = 'Обязательное поле';\n  }\n\n  if (!values.age) {\n    errors.age = 'Обязательное поле';\n  }\n\n  return errors;\n}\n\nexport default createProfileValidations;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Field } from \"formik\";\nimport { createUserProfile } from '../../store/user/actions';\nimport FormCard from '../forms/FormCard';\nimport Form from '../forms/Form';\nimport createProfileValidations from '../../helpers/validations/createProfileValidations';\nimport routes from '../navigation/routes';\nimport InputMask from 'react-input-mask';\nimport NumberFormat from 'react-number-format';\nimport requireAuth from '../HOC/requireAuth';\n// TODO: accept float numbers as weight\nclass CreateProfile extends React.Component {\n\n  state = {\n    initialValues: {\n      username: this.props.profile ? this.props.profile.username : '',\n      weight: '',\n      caloriesPerDay: '',\n      age: '',\n    },\n    serverErrors: {},\n    generalError: '',\n  };\n\n  handleFocus = (e) => {\n    let newState = JSON.stringify(this.state);\n    newState = JSON.parse(newState);\n    delete newState.serverErrors[e.target.name];\n    this.setState(newState);\n  }\n\n  onSubmit = async (values, { setSubmitting }) => {\n    this.setState({...this.state, serverErrors: {}, generalError: ''});\n\n    const res = await this.props.createUserProfile(values);\n    if (!res.status) {\n      this.props.history.push(routes.home);\n\n      return;\n    }\n\n    if (res.data.errors && res.data.errors.length) {\n      res.data.errors.forEach((error) => {\n        this.state.serverErrors[error.param] = error.msg;\n      });\n      setSubmitting(false);\n\n      return;\n    }\n\n    this.setState({...this.state, generalError: res.data.error.message})\n    setSubmitting(false);\n  }\n\n  render() {\n    return (\n      <div className=\"content-centered mt-60-resp\">\n        <FormCard>\n          <Form\n            initialValues={this.state.initialValues}\n            onSubmit={this.onSubmit}\n            validate={createProfileValidations}\n          >\n            {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n              }) => {\n              errors = {...errors, ...this.state.serverErrors}\n              return (\n                <form onSubmit={handleSubmit} noValidate={true}>\n                  <div className={ (touched.username && errors.username) ? 'ui input w-100 error' : 'ui input w-100'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"username\"\n                    >\n                      Никнейм\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"username\"\n                      onFocus={this.handleFocus}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.username}\n                      placeholder=\"Cool Person\"\n                      className=\"d-block\"\n                      id=\"username\"\n                    />\n                    {touched.username && errors.username && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.username }\n                      </div>\n                    )}\n                  </div>\n\n                  <div className={ (touched.weight && errors.weight) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"weight\"\n                    >\n                      Вес\n                    </label>\n                    <Field\n                      name=\"weight\"\n                    >\n                      {({ field }) => {\n                        return (\n                          <NumberFormat\n                            {...field}\n                            type=\"tel\"\n                            onFocus={this.handleFocus}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                            value={values.weight}\n                            placeholder=\"55\"\n                            className=\"d-block\"\n                            id=\"weight\"\n                            decimalScale={1}\n                          />\n                        );\n                      }}\n                    </Field>\n                    {touched.weight && errors.weight && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.weight }\n                      </div>\n                    )}\n                  </div>\n\n                  <div className={ (touched.caloriesPerDay && errors.caloriesPerDay) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"caloriesPerDay\"\n                    >\n                      Норма калорий в день\n                    </label>\n                    <Field\n                      name=\"caloriesPerDay\"\n                    >\n                      {({ field }) => {\n                        return (\n                          <InputMask\n                            {...field}\n                            maskChar={null}\n                            mask=\"99999\"\n                            type=\"phone\"\n                            onFocus={this.handleFocus}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                            value={values.caloriesPerDay}\n                            placeholder=\"2000\"\n                            className=\"d-block\"\n                            id=\"caloriesPerDay\"\n                          />\n                        );\n                      }}\n                    </Field>\n                    {touched.caloriesPerDay && errors.caloriesPerDay && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.caloriesPerDay }\n                      </div>\n                    )}\n                  </div>\n\n                  <div className={ (touched.age && errors.age) ? 'ui input w-100 error mt-20' : 'ui input w-100 mt-20'}>\n                    <label\n                      className=\"w-100\"\n                      htmlFor=\"age\"\n                    >\n                      Возраст\n                    </label>\n                    <Field\n                      name=\"age\"\n                    >\n                      {({ field }) => {\n                        return (\n                          <InputMask\n                            {...field}\n                            maskChar={null}\n                            mask=\"999\"\n                            type=\"phone\"\n                            onFocus={this.handleFocus}\n                            onChange={handleChange}\n                            onBlur={handleBlur}\n                            value={values.age}\n                            placeholder=\"22\"\n                            className=\"d-block\"\n                            id=\"age\"\n                          />\n                        );\n                      }}\n                    </Field>\n                    {touched.age && errors.age && (\n                      <div className=\"mt-5 error-msg\">\n                        { errors.age }\n                      </div>\n                    )}\n                  </div>\n\n                  <button\n                    className=\"ui primary button mt-30 w-100\"\n                    type=\"submit\"\n                    disabled={isSubmitting || Object.keys(errors).length > 0}\n                  >\n                    Создать профиль\n                  </button>\n                  {this.state.generalError && (\n                    <div className=\"mt-10 error-msg\">\n                      { this.state.generalError }\n                    </div>\n                  )}\n                </form>\n              )\n            }}\n          </Form>\n        </FormCard>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.user.profile,\n  };\n}\n\nconst mapDispatchToProps = {\n  createUserProfile,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(requireAuth(CreateProfile));\n","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Home from '../pages/Home';\nimport routes from './routes';\nimport NotFound from '../pages/NotFound';\nimport Login from '../pages/Login';\nimport Register from '../pages/Register';\nimport CreateProfile from '../pages/CreateProfile';\n\nconst Navigation = () => {\n  return (\n    <div>\n      <Switch>\n        <Route exact path={routes.login} component={Login} />\n        <Route exact path={routes.home} component={Home} />\n        <Route exact path={routes.notFound} component={NotFound} />\n        <Route exact path={routes.register} component={Register} />\n        <Route exact path={routes.createProfile} component={CreateProfile} />\n        <Route>\n          <Redirect to={routes.notFound} />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default Navigation;\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\nexport default ScrollToTop;\n\n","import { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter} from 'react-router-dom';\nimport { LastLocationProvider } from 'react-router-last-location';\nimport Navigation from './components/navigation/Navigation';\nimport ScrollToTop from './components/navigation/ScrollToTop';\nimport { loadInitialAppData } from './store/app/actions';\nimport Loader from './components/shared/Loader';\n\nconst App = ({isAppInitialDataLoaded, loadInitialAppData}) => {\n  useEffect(() => {\n    loadInitialAppData();\n  }, []);\n\n  return (\n    <>\n      <BrowserRouter>\n        <ScrollToTop />\n        <LastLocationProvider>\n          { isAppInitialDataLoaded ? (\n            <Navigation />\n            ) : (\n              <div className=\"full-page-content-centered\">\n                <Loader size=\"massive\" />\n              </div>\n            )\n          }\n        </LastLocationProvider>\n      </BrowserRouter>\n  </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAppInitialDataLoaded: state.app.isInitialDataLoaded,\n  }\n}\n\nconst mapDispatchToProps = {\n  loadInitialAppData,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import en from './en.json';\nimport ru from './ru.json';\n\nexport default {\n  en,\n  ru,\n}\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport resources from './resources';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nconst options = {\n  order: ['querystring', 'navigator'],\n  lookupQuerystring: 'lng'\n}\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    detection: options,\n    resources,\n    fallbackLng: \"en\",\n    supportedLngs: ['ru', 'en'],\n    keySeparator: '.',\n    interpolation: {\n      escapeValue: false,\n    }\n  });\n\nexport default i18n;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport 'react-semantic-toasts/styles/react-semantic-alert.css';\nimport './styles/index.scss';\nimport App from './App';\nimport createStore from './store';\nimport './content/i18n';\n\n(async () => {\n  const store = await createStore();\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.querySelector('#root')\n  );\n})();\n","export const SET_LANGUAGE = 'SET_LANGUAGE';\nexport const REGISTER_USER = 'REGISTER_USER';\nexport const SET_IS_AUTH = 'SET_IS_AUTH';\nexport const LOGIN_USER = 'LOGIN_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\nexport const CREATE_PROFILE = 'CREATE_PROFILE';\nexport const GET_PROFILE = 'GET_PROFILE';\nexport const SET_TOKENS = 'SET_TOKENS';\n","import {\n  SET_LANGUAGE,\n  REGISTER_USER,\n  GET_PROFILE,\n  LOGIN_USER,\n  CREATE_PROFILE,\n  SET_IS_AUTH,\n  SET_TOKENS,\n  LOGOUT_USER\n} from './types';\nimport { Api } from '../../api/Api';\nimport {\n  REGISTER_URL,\n  GET_USER_PROFILE_URL,\n  LOGIN_URL,\n  CREATE_PROFILE_URL,\n  LOGOUT_URL,\n} from '../../api/urls';\nimport setAccessTokens from '../../helpers/setAccessTokens';\n\nexport const setIsAuth = (authState) => {\n  return {\n    type: SET_IS_AUTH,\n    payload: authState,\n  }\n}\n\nexport const setTokens = (tokens) => {\n  return {\n    type: SET_TOKENS,\n    payload: tokens,\n  }\n}\n\nexport const logoutUser = () => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(LOGOUT_URL);\n\n    if (!res.status) {\n      Api.$instance.removeHeader('Authorization');\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n      dispatch(setTokens({\n        accessToken: null,\n        refreshToken: null,\n      }));\n      dispatch(setIsAuth(false));\n    }\n\n    return res;\n  }\n}\n\nexport const registerUser = (credentials) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(REGISTER_URL, credentials);\n\n    if (!res.status) {\n      setAccessTokens(res.data.accessToken, res.data.refreshToken);\n      await dispatch(fetchUserProfile());\n\n      dispatch({\n        type: REGISTER_USER,\n        payload: res.data,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const loginUser = (credentials) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(LOGIN_URL, credentials);\n    if (!res.status) {\n      setAccessTokens(res.data.accessToken, res.data.refreshToken);\n      await dispatch(fetchUserProfile());\n\n      dispatch({\n        type: LOGIN_USER,\n        payload: res.data,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const createUserProfile = (credentials) => {\n  return async (dispatch) => {\n    const res = await Api.$instance.post(CREATE_PROFILE_URL, credentials);\n\n    if (!res.status) {\n      dispatch({\n        type: CREATE_PROFILE,\n        payload: res.data.user,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const fetchUserProfile = () => {\n  return async (dispatch) => {\n    const res = await Api.$instance.get(GET_USER_PROFILE_URL);\n    if (!res.status) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data.user,\n      });\n    }\n\n    return res;\n  }\n}\n\nexport const setLanguage = (language) => {\n  Api.$instance.setLanguage(language);\n\n  return {\n    type: SET_LANGUAGE,\n    payload: language,\n  }\n}\n","export const SET_CURRENT_ACTIVITY = 'FETCH_CURRENT_ACTIVITY';\nexport const UPDATE_CURRENT_ACTIVITY = 'UPDATE_CURRENT_ACTIVITY';\nexport const CREATE_ACTIVITY = 'CREATE_ACTIVITY';\nexport const DELETE_ACTIVITY = 'DELETE_ACTIVITY';\nexport const FETCH_CALCULATED_ACTIVITIES = 'FETCH_CALCULATED_ACTIVITIES';\n","export const SET_CURRENT_MEAL = 'FETCH_CURRENT_MEAL';\nexport const UPDATE_CURRENT_MEAL = 'UPDATE_CURRENT_MEAL';\nexport const CREATE_MEAL = 'CREATE_MEAL';\nexport const DELETE_MEAL = 'DELETE_MEAL';\n","export const FETCH_DAYS = 'FETCH_DAYS';\nexport const SET_TODAY = 'SET_TODAY';\nexport const UPDATE_TODAY = 'UPDATE_TODAY';\n","const makeUrl = (url, params) => {\n  for (let param in params) {\n    const paramName = param;\n    const paramValue = params[param];\n\n    url = url.replace(`:${paramName}`, paramValue);\n  }\n\n  return url;\n}\n\nexport default makeUrl;\n"],"sourceRoot":""}